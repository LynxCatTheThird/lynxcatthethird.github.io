<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>文章效果与字体编码测试 | 猫说 Meow</title><meta name="author" content="LynxCatTheThird"><meta name="copyright" content="LynxCatTheThird"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="包括 Markdown、数学以及标签外挂。"><meta property="og:type" content="article"><meta property="og:title" content="文章效果与字体编码测试"><meta property="og:url" content="https://www.lynx3.me/article/a36a68fc/index.html"><meta property="og:site_name" content="猫说 Meow"><meta property="og:description" content="包括 Markdown、数学以及标签外挂。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s2.hdslb.com/bfs/article/e4bb9f697983d94cd838ee6fda074c23b489052e.png@1e_1c.webp"><meta property="article:published_time" content="2022-12-02T00:18:18.000Z"><meta property="article:modified_time" content="2025-02-20T15:56:24.000Z"><meta property="article:author" content="LynxCatTheThird"><meta property="article:tag" content="前端"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://s2.hdslb.com/bfs/article/e4bb9f697983d94cd838ee6fda074c23b489052e.png@1e_1c.webp"><meta name="twitter:creator" content="@LynxCatTheThird"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "文章效果与字体编码测试",
  "url": "https://www.lynx3.me/article/a36a68fc/",
  "image": "https://s2.hdslb.com/bfs/article/e4bb9f697983d94cd838ee6fda074c23b489052e.png@1e_1c.webp",
  "datePublished": "2022-12-02T00:18:18.000Z",
  "dateModified": "2025-02-20T15:56:24.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "LynxCatTheThird",
      "url": "https://www.lynx3.me"
    }
  ]
}</script><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://www.lynx3.me/article/a36a68fc/index.html"><link rel="preconnect" href="https://registry.npmmirror.com"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://registry.npmmirror.com/@fortawesome/fontawesome-free/6.7.2/files/css/all.min.css"><link rel="stylesheet" href="https://registry.npmmirror.com/@fancyapps/ui/6.0.17/files/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><script>(()=>{const t={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:t,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const o=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=o,btf.activateLightMode=a;const n=t.get("theme"),c=window.matchMedia("(prefers-color-scheme: dark)"),r=window.matchMedia("(prefers-color-scheme: light)");if(void 0===n){if(r.matches)a();else if(c.matches)o();else{const e=(new Date).getHours();e<=6||e>=18?o():a()}c.addEventListener("change",()=>{void 0===t.get("theme")&&(e.matches?o():a())})}else"light"===n?a():o();const d=t.get("aside-status");void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!0,languages:{hits_empty:"未找到符合您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200,highlightFullpage:!0,highlightMacStyle:!0},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://s4.zstatic.net/ajax/libs/egjs-infinitegrid/4.12.0/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"文章效果与字体编码测试",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="https://registry.npmmirror.com/@fontsource/jetbrains-mono/5.1.2/files/latin-400.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://s2.hdslb.com/bfs/article/621ceaa1fcd3b63bfb3d7d3948bd93647ac50b72.png@1e_0c.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 交流</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/comment/"><i class="fa-fw fas fa-share-nodes"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/board/"><i class="fa-fw fas fa-clipboard-list"></i><span> 公告栏</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/faq/"><i class="fa-fw fas fa-file-circle-question"></i><span> 有问必答</span></a></li><li><a class="site-page child" href="/help/"><i class="fa-fw fas fa-person-circle-question"></i><span> 问题自查</span></a></li><li><a class="site-page child" href="/policy/"><i class="fa-fw fas fa-envelope-open-text"></i><span> 条款与政策</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://s2.hdslb.com/bfs/article/e4bb9f697983d94cd838ee6fda074c23b489052e.png@1e_1c.webp)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">猫说 Meow</span></a><a class="nav-page-title" href="/"><span class="site-name">文章效果与字体编码测试</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span> 返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 交流</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/comment/"><i class="fa-fw fas fa-share-nodes"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/board/"><i class="fa-fw fas fa-clipboard-list"></i><span> 公告栏</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/faq/"><i class="fa-fw fas fa-file-circle-question"></i><span> 有问必答</span></a></li><li><a class="site-page child" href="/help/"><i class="fa-fw fas fa-person-circle-question"></i><span> 问题自查</span></a></li><li><a class="site-page child" href="/policy/"><i class="fa-fw fas fa-envelope-open-text"></i><span> 条款与政策</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">文章效果与字体编码测试</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-12-02T00:18:18.000Z" title="发表于 2022-12-02 08:18:18">2022-12-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-20T15:56:24.000Z" title="更新于 2025-02-20 23:56:24">2025-02-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/">科学与技术</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">8.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>48分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;此文章最后更新于&quot;,&quot;messageNext&quot;:&quot;天前，文章的内容可能已过时。&quot;,&quot;postUpdate&quot;:&quot;2025-02-20 23:56:24&quot;}" hidden></div><h1 id="Markdown-基本语法">Markdown 基本语法</h1><h1 id="一级标题">一级标题</h1><h2 id="二级标题">二级标题</h2><h3 id="三级标题">三级标题</h3><h4 id="四级标题">四级标题</h4><h5 id="五级标题">五级标题</h5><h6 id="六级标题">六级标题</h6><p><strong>粗体</strong> <em>斜体</em> <strong><em>粗斜体</em></strong> 正常 <s>删除线</s></p><blockquote><p>单行块引用</p></blockquote><blockquote><p>多个段落的块引用</p><p>多个段落的块引用</p></blockquote><blockquote><p>嵌套块引用</p><blockquote><p>嵌套块引用</p></blockquote></blockquote><blockquote><p>带有其它元素的块引用</p><p><em>带有其它元素的块引用</em></p><p><strong>带有其它元素的块引用</strong></p><p><a href=".">带有其它元素的块引用</a></p></blockquote><ol><li>有序列表</li><li>有序列表</li><li>有序列表<ol><li>有序列表</li><li>有序列表</li></ol></li><li>有序列表</li></ol><ul><li>无序列表</li><li>无序列表</li><li>无序列表<ul><li>无序列表</li><li>无序列表</li></ul></li><li>无序列表</li></ul><p><code>单行代码块 with Both Chines and English Text</code></p><p>分割线</p><hr><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.lynx3.top/">链接</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.lynx3.top/" title="这是标题">链接（带有标题）</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.lynx3.top/">https://www.lynx3.top/</a></p><p><a href="mailto:email@example.com" rel="external nofollow noreferrer">email@example.com</a></p><p><strong><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.lynx3.top/">带格式化的链接</a></strong></p><p><img src="https://s2.hdslb.com/bfs/album/335657374a640f1748c290003b8851caa7db114d.png@1e_1c.webp" alt="图片" title="哔哩哔哩图床"></p><table><tbody><tr><td>内容类 HTML 嵌入</td></tr></tbody></table><h1 id="Markdown-扩展语法">Markdown 扩展语法</h1><h2 id="表格">表格</h2><table><thead><tr><th style="text-align:left">左对齐</th><th style="text-align:center">居中对齐</th><th style="text-align:right">右对齐</th></tr></thead><tbody><tr><td style="text-align:left">/</td><td style="text-align:center">叫做</td><td style="text-align:right">斜线</td></tr><tr><td style="text-align:left">|</td><td style="text-align:center">叫做</td><td style="text-align:right">管道符</td></tr></tbody></table><h2 id="代码框">代码框</h2><h3 id="编译语言">编译语言</h3><h4 id="C">C++</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/argvchs/fastio/master/fastio.hpp">https://raw.githubusercontent.com/argvchs/fastio/master/fastio.hpp</a></p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstddef&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string_view&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;type_traits&gt;</span></span></span><br><span class="line"><span class="keyword">namespace</span> fastio {</span><br><span class="line"><span class="keyword">namespace</span> symbols {</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">symbol</span> {</span><br><span class="line">    endl,</span><br><span class="line">    ends,</span><br><span class="line">    flush,</span><br><span class="line">    bin,</span><br><span class="line">    oct,</span><br><span class="line">    dec,</span><br><span class="line">    hex,</span><br><span class="line">    left,</span><br><span class="line">    right,</span><br><span class="line">    boolalpha,</span><br><span class="line">    noboolalpha,</span><br><span class="line">    showbase,</span><br><span class="line">    noshowbase,</span><br><span class="line">    showpoint,</span><br><span class="line">    noshowpoint,</span><br><span class="line">    showpos,</span><br><span class="line">    noshowpos,</span><br><span class="line">    ws,</span><br><span class="line">    uppercase,</span><br><span class="line">    lowercase,</span><br><span class="line">    fixed,</span><br><span class="line">    defaultfloat,</span><br><span class="line">    reset</span><br><span class="line">};</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">setbase</span> {</span><br><span class="line">    <span class="type">int</span> base;</span><br><span class="line">    <span class="built_in">setbase</span>(<span class="type">int</span> n) : <span class="built_in">base</span>(n) {}</span><br><span class="line">};</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">setfill</span> {</span><br><span class="line">    <span class="type">char</span> fill;</span><br><span class="line">    <span class="built_in">setfill</span>(<span class="type">char</span> c) : <span class="built_in">fill</span>(c) {}</span><br><span class="line">};</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">setprecision</span> {</span><br><span class="line">    <span class="type">int</span> precision;</span><br><span class="line">    <span class="built_in">setprecision</span>(<span class="type">int</span> n) : <span class="built_in">precision</span>(n) {}</span><br><span class="line">};</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">setw</span> {</span><br><span class="line">    <span class="type">int</span> width;</span><br><span class="line">    <span class="built_in">setw</span>(<span class="type">int</span> n) : <span class="built_in">width</span>(n) {}</span><br><span class="line">};</span><br><span class="line">} <span class="comment">// namespace symbols</span></span><br><span class="line"><span class="keyword">namespace</span> interface {</span><br><span class="line"><span class="keyword">using</span> i64 = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> i128 = __int128;</span><br><span class="line"><span class="keyword">using</span> u128 = <span class="type">unsigned</span> __int128;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="type">bool</span> is_signed_v =</span><br><span class="line">    (std::is_integral_v&lt;T&gt; &amp;&amp; std::is_signed_v&lt;T&gt;) || std::is_same_v&lt;T, i128&gt;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="type">bool</span> is_unsigned_v =</span><br><span class="line">    (std::is_integral_v&lt;T&gt; &amp;&amp; std::is_unsigned_v&lt;T&gt;) || std::is_same_v&lt;T, u128&gt;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">constexpr</span> <span class="type">bool</span> is_integral_v = is_signed_v&lt;T&gt; || is_unsigned_v&lt;T&gt;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">constexpr</span> <span class="type">bool</span> is_floating_v = std::is_floating_point_v&lt;T&gt;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct</span> <span class="title class_">make_unsigned</span> : <span class="keyword">public</span> std::make_unsigned&lt;T&gt; {};</span><br><span class="line"><span class="keyword">template</span> &lt;&gt; <span class="keyword">struct</span> <span class="title class_">make_unsigned</span>&lt;i128&gt; : <span class="keyword">public</span> std::type_identity&lt;u128&gt; {};</span><br><span class="line"><span class="keyword">template</span> &lt;&gt; <span class="keyword">struct</span> <span class="title class_">make_unsigned</span>&lt;u128&gt; : <span class="keyword">public</span> std::type_identity&lt;u128&gt; {};</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">using</span> <span class="type">make_unsigned_t</span> = <span class="keyword">typename</span> make_unsigned&lt;T&gt;::type;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">noncopyable</span> {</span><br><span class="line">    <span class="built_in">noncopyable</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">noncopyable</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">noncopyable</span>(<span class="type">const</span> noncopyable &amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    noncopyable &amp;<span class="keyword">operator</span>=(<span class="type">const</span> noncopyable &amp;) = <span class="keyword">delete</span>;</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">istream</span> : <span class="keyword">public</span> noncopyable {</span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> base = <span class="number">10</span>;</span><br><span class="line">    <span class="type">bool</span> unget = <span class="literal">false</span>, eof = <span class="literal">false</span>, fail = <span class="literal">false</span>;</span><br><span class="line">    <span class="type">char</span> chr = <span class="string">'\0'</span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">isssign</span><span class="params">(<span class="type">char</span> c)</span> </span>{ <span class="keyword">return</span> <span class="built_in">isspace</span>(c) || c == <span class="string">'+'</span> || c == <span class="string">'-'</span>; }</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">todigit</span><span class="params">(<span class="type">char</span> c)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (::<span class="built_in">isdigit</span>(c)) <span class="keyword">return</span> c - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isupper</span>(c)) <span class="keyword">return</span> c - <span class="string">'A'</span> + <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">islower</span>(c)) <span class="keyword">return</span> c - <span class="string">'a'</span> + <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">return</span> base;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isdigit</span><span class="params">(<span class="type">char</span> c)</span> </span>{ <span class="keyword">return</span> <span class="built_in">todigit</span>(c) &lt; base; }</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">char</span> <span class="title">vget</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">char</span> <span class="title">get</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (!unget)</span><br><span class="line">            <span class="keyword">if</span> ((chr = <span class="built_in">vget</span>()) == EOF) eof = <span class="literal">true</span>;</span><br><span class="line">        unget = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> chr;</span><br><span class="line">    }</span><br><span class="line">    <span class="function">istream &amp;<span class="title">get</span><span class="params">(<span class="type">char</span> &amp;c)</span> </span>{</span><br><span class="line">        c = <span class="built_in">get</span>();</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="keyword">operator</span> <span class="title">bool</span><span class="params">()</span> </span>{ <span class="keyword">return</span> !fail; }</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>!() { <span class="keyword">return</span> fail; }</span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="type">enable_if_t</span>&lt;is_integral_v&lt;T&gt;, <span class="type">int</span>&gt; = <span class="number">0</span>&gt;</span><br><span class="line">    istream &amp;<span class="keyword">operator</span>&gt;&gt;(T &amp;n) {</span><br><span class="line">        n = <span class="number">0</span>;</span><br><span class="line">        <span class="type">bool</span> f = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isssign</span>(<span class="built_in">get</span>()) &amp;&amp; !eof)</span><br><span class="line">            <span class="keyword">if</span> (chr == <span class="string">'-'</span> &amp;&amp; is_integral_v&lt;T&gt;) f = !f;</span><br><span class="line">        <span class="keyword">if</span> (eof) <span class="keyword">return</span> fail = <span class="literal">true</span>, *<span class="keyword">this</span>;</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(<span class="built_in">get</span>())) n = n * base + <span class="built_in">todigit</span>(chr);</span><br><span class="line">        <span class="keyword">if</span> (f) n = -n;</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="type">enable_if_t</span>&lt;is_floating_v&lt;T&gt;, <span class="type">int</span>&gt; = <span class="number">0</span>&gt;</span><br><span class="line">    istream &amp;<span class="keyword">operator</span>&gt;&gt;(T &amp;n) {</span><br><span class="line">        n = <span class="number">0</span>;</span><br><span class="line">        <span class="type">bool</span> f = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isssign</span>(<span class="built_in">get</span>()) &amp;&amp; !eof)</span><br><span class="line">            <span class="keyword">if</span> (chr == <span class="string">'-'</span>) f = !f;</span><br><span class="line">        <span class="keyword">if</span> (eof) <span class="keyword">return</span> fail = <span class="literal">true</span>, *<span class="keyword">this</span>;</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(<span class="built_in">get</span>())) n = n * base + <span class="built_in">todigit</span>(chr);</span><br><span class="line">        <span class="keyword">if</span> (chr == <span class="string">'.'</span>) {</span><br><span class="line">            i64 pow = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">isdigit</span>(<span class="built_in">get</span>())) n += <span class="built_in">todigit</span>(chr) / (T)(pow *= base);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (f) n = -n;</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    istream &amp;<span class="keyword">operator</span>&gt;&gt;(<span class="type">char</span> &amp;c) {</span><br><span class="line">        c = <span class="string">'\0'</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isspace</span>(<span class="built_in">get</span>()) &amp;&amp; !eof);</span><br><span class="line">        <span class="keyword">if</span> (eof) <span class="keyword">return</span> fail = <span class="literal">true</span>, *<span class="keyword">this</span>;</span><br><span class="line">        c = chr;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    istream &amp;<span class="keyword">operator</span>&gt;&gt;(<span class="type">bool</span> &amp;f) {</span><br><span class="line">        i64 n;</span><br><span class="line">        *<span class="keyword">this</span> &gt;&gt; n;</span><br><span class="line">        f = (<span class="type">bool</span>)n;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    istream &amp;<span class="keyword">operator</span>&gt;&gt;(<span class="type">char</span> *s) {</span><br><span class="line">        s[<span class="number">0</span>] = <span class="string">'\0'</span>;</span><br><span class="line">        <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isspace</span>(<span class="built_in">get</span>()) &amp;&amp; !eof);</span><br><span class="line">        <span class="keyword">if</span> (eof) <span class="keyword">return</span> fail = <span class="literal">true</span>, *<span class="keyword">this</span>;</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isgraph</span>(<span class="built_in">get</span>())) s[len++] = chr;</span><br><span class="line">        unget = <span class="literal">true</span>, s[len] = <span class="string">'\0'</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    istream &amp;<span class="keyword">operator</span>&gt;&gt;(std::string &amp;s) {</span><br><span class="line">        s.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isspace</span>(<span class="built_in">get</span>()) &amp;&amp; !eof);</span><br><span class="line">        <span class="keyword">if</span> (eof) <span class="keyword">return</span> fail = <span class="literal">true</span>, *<span class="keyword">this</span>;</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isgraph</span>(<span class="built_in">get</span>())) s.<span class="built_in">push_back</span>(chr);</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    istream &amp;<span class="keyword">operator</span>&gt;&gt;(symbols::symbol a) {</span><br><span class="line">        <span class="keyword">switch</span> (a) {</span><br><span class="line">        <span class="keyword">case</span> symbols::bin: base = <span class="number">2</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::oct: base = <span class="number">8</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::dec: base = <span class="number">10</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::hex: base = <span class="number">16</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::ws:</span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">isspace</span>(<span class="built_in">get</span>()) &amp;&amp; !eof);</span><br><span class="line">            unget = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>: base = <span class="number">10</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    istream &amp;<span class="keyword">operator</span>&gt;&gt;(symbols::setbase a) {</span><br><span class="line">        base = std::<span class="built_in">max</span>(std::<span class="built_in">min</span>(a.base, <span class="number">36</span>), <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function">istream &amp;<span class="title">ignore</span><span class="params">(<span class="type">char</span> end = <span class="string">'\n'</span>)</span> </span>{</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">get</span>() != end &amp;&amp; !eof);</span><br><span class="line">        <span class="keyword">if</span> (eof) <span class="keyword">return</span> fail = <span class="literal">true</span>, *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function">istream &amp;<span class="title">getline</span><span class="params">(<span class="type">char</span> *s, <span class="type">char</span> end = <span class="string">'\n'</span>)</span> </span>{</span><br><span class="line">        s[<span class="number">0</span>] = <span class="string">'\0'</span>;</span><br><span class="line">        <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (eof) <span class="keyword">return</span> fail = <span class="literal">true</span>, *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">get</span>() != end &amp;&amp; !eof) s[len++] = chr;</span><br><span class="line">        <span class="keyword">if</span> (s[len - <span class="number">1</span>] == <span class="string">'\r'</span> &amp;&amp; end == <span class="string">'\n'</span>) --len;</span><br><span class="line">        s[len] = <span class="string">'\0'</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function">istream &amp;<span class="title">getline</span><span class="params">(std::string &amp;s, <span class="type">char</span> end = <span class="string">'\n'</span>)</span> </span>{</span><br><span class="line">        s.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">if</span> (eof) <span class="keyword">return</span> fail = <span class="literal">true</span>, *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">get</span>() != end &amp;&amp; !eof) s.<span class="built_in">push_back</span>(chr);</span><br><span class="line">        <span class="keyword">if</span> (s.<span class="built_in">back</span>() == <span class="string">'\r'</span> &amp;&amp; end == <span class="string">'\n'</span>) s.<span class="built_in">pop_back</span>();</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function">istream &amp;<span class="title">get</span><span class="params">(<span class="type">char</span> *s, <span class="type">char</span> end = <span class="string">'\n'</span>)</span> </span>{</span><br><span class="line">        <span class="built_in">getline</span>(s, end);</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function">istream &amp;<span class="title">get</span><span class="params">(std::string &amp;s, <span class="type">char</span> end = <span class="string">'\n'</span>)</span> </span>{</span><br><span class="line">        <span class="built_in">getline</span>(s, end);</span><br><span class="line">        unget = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ostream</span> : <span class="keyword">public</span> noncopyable {</span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> base = <span class="number">10</span>, precision = <span class="number">6</span>, width = <span class="number">0</span>;</span><br><span class="line">    i64 eps = <span class="number">1e6</span>;</span><br><span class="line">    <span class="type">bool</span> adjust = <span class="literal">true</span>, boolalpha = <span class="literal">false</span>, showbase = <span class="literal">false</span>, showpoint = <span class="literal">false</span>,</span><br><span class="line">         showpos = <span class="literal">false</span>, kase = <span class="literal">false</span>, fixed = <span class="literal">false</span>;</span><br><span class="line">    <span class="type">char</span> setfill = <span class="string">' '</span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> i64 <span class="title">qpow</span><span class="params">(i64 n, <span class="type">int</span> m)</span> </span>{</span><br><span class="line">        i64 ret = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = m; i; i &gt;&gt;= <span class="number">1</span>, n *= n)</span><br><span class="line">            <span class="keyword">if</span> (i &amp; <span class="number">1</span>) ret *= n;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fill</span><span class="params">(<span class="type">int</span> n)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (width &gt; n) <span class="built_in">vfill</span>(setfill, width - n);</span><br><span class="line">        width = <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="type">char</span> <span class="title">toalpha</span><span class="params">(<span class="type">int</span> n)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">10</span>) <span class="keyword">return</span> n + <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">return</span> n - <span class="number">10</span> + (kase ? <span class="string">'A'</span> : <span class="string">'a'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vput</span><span class="params">(<span class="type">char</span>)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vputs</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *, <span class="type">int</span>)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vfill</span><span class="params">(<span class="type">char</span>, <span class="type">int</span>)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vflush</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">put</span><span class="params">(<span class="type">char</span> c)</span> </span>{ <span class="built_in">vput</span>(c); }</span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="type">enable_if_t</span>&lt;is_integral_v&lt;T&gt;, <span class="type">int</span>&gt; = <span class="number">0</span>&gt;</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(T n) {</span><br><span class="line">        <span class="type">static</span> <span class="type">char</span> buf[<span class="number">105</span>];</span><br><span class="line">        <span class="type">char</span> *p = buf + <span class="number">100</span>, *q = buf + <span class="number">100</span>;</span><br><span class="line">        <span class="type">bool</span> f = n &lt; <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (f) n = -n;</span><br><span class="line">        <span class="type">make_unsigned_t</span>&lt;T&gt; m = n;</span><br><span class="line">        <span class="keyword">if</span> (!m) *p-- = <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">while</span> (m) *p-- = <span class="built_in">toalpha</span>(m % base), m /= base;</span><br><span class="line">        <span class="keyword">if</span> (showbase) <span class="keyword">switch</span> (base) {</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: *p-- = kase ? <span class="string">'B'</span> : <span class="string">'b'</span>, *p-- = <span class="string">'0'</span>; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>: *p-- = <span class="string">'0'</span>; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">16</span>: *p-- = kase ? <span class="string">'X'</span> : <span class="string">'x'</span>, *p-- = <span class="string">'0'</span>; <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        <span class="keyword">if</span> (!f) {</span><br><span class="line">            <span class="keyword">if</span> (showpos &amp;&amp; is_signed_v&lt;T&gt;) *p-- = <span class="string">'+'</span>;</span><br><span class="line">        } <span class="keyword">else</span> *p-- = <span class="string">'-'</span>;</span><br><span class="line">        <span class="keyword">if</span> (adjust) <span class="built_in">fill</span>(q - p);</span><br><span class="line">        <span class="built_in">vputs</span>(p + <span class="number">1</span>, q - p);</span><br><span class="line">        <span class="keyword">if</span> (!adjust) <span class="built_in">fill</span>(q - p);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="type">enable_if_t</span>&lt;is_floating_v&lt;T&gt;, <span class="type">int</span>&gt; = <span class="number">0</span>&gt;</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(T n) {</span><br><span class="line">        <span class="type">static</span> <span class="type">char</span> buf1[<span class="number">105</span>], buf2[<span class="number">105</span>];</span><br><span class="line">        <span class="keyword">if</span> (std::<span class="built_in">isinf</span>(n)) {</span><br><span class="line">            <span class="keyword">if</span> (n &gt; <span class="number">0</span>) {</span><br><span class="line">                <span class="keyword">if</span> (showpos) *<span class="keyword">this</span> &lt;&lt; (kase ? <span class="string">"+INF"</span> : <span class="string">"+inf"</span>);</span><br><span class="line">                <span class="keyword">else</span> *<span class="keyword">this</span> &lt;&lt; (kase ? <span class="string">"INF"</span> : <span class="string">"inf"</span>);</span><br><span class="line">            } <span class="keyword">else</span> *<span class="keyword">this</span> &lt;&lt; (kase ? <span class="string">"-INF"</span> : <span class="string">"-inf"</span>);</span><br><span class="line">            <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (std::<span class="built_in">isnan</span>(n)) <span class="keyword">return</span> *<span class="keyword">this</span> &lt;&lt; (kase ? <span class="string">"NAN"</span> : <span class="string">"nan"</span>);</span><br><span class="line">        <span class="type">char</span> *p1 = buf1 + <span class="number">100</span>, *q1 = buf1 + <span class="number">100</span>, *p2 = buf2 + <span class="number">100</span>, *q2 = buf2 + <span class="number">100</span>;</span><br><span class="line">        <span class="type">bool</span> f = n &lt; <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (f) n = -n;</span><br><span class="line">        i64 m1 = std::<span class="built_in">floor</span>(n), m2 = std::<span class="built_in">round</span>((n - m1) * eps);</span><br><span class="line">        <span class="type">int</span> len = precision;</span><br><span class="line">        <span class="keyword">if</span> (m2 &gt;= eps) ++m1, m2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (!m1) *p1-- = <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">while</span> (m1) *p1-- = <span class="built_in">toalpha</span>(m1 % base), m1 /= base;</span><br><span class="line">        <span class="keyword">while</span> (len--) *p2-- = <span class="built_in">toalpha</span>(m2 % base), m2 /= base;</span><br><span class="line">        <span class="keyword">if</span> (showbase) <span class="keyword">switch</span> (base) {</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: *p1-- = kase ? <span class="string">'B'</span> : <span class="string">'b'</span>, *p1-- = <span class="string">'0'</span>; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>: *p1-- = <span class="string">'0'</span>; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">16</span>: *p1-- = kase ? <span class="string">'X'</span> : <span class="string">'x'</span>, *p1-- = <span class="string">'0'</span>; <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        <span class="keyword">if</span> (!f) {</span><br><span class="line">            <span class="keyword">if</span> (showpos) *p1-- = <span class="string">'+'</span>;</span><br><span class="line">        } <span class="keyword">else</span> *p1-- = <span class="string">'-'</span>;</span><br><span class="line">        <span class="keyword">if</span> (!fixed)</span><br><span class="line">            <span class="keyword">while</span> (*q2 == <span class="string">'0'</span> &amp;&amp; p2 != q2) --q2;</span><br><span class="line">        <span class="keyword">if</span> (showpoint || p2 != q2) *p2-- = <span class="string">'.'</span>;</span><br><span class="line">        <span class="keyword">if</span> (adjust) <span class="built_in">fill</span>((q1 - p1) + (q2 - p2));</span><br><span class="line">        <span class="built_in">vputs</span>(p1 + <span class="number">1</span>, q1 - p1);</span><br><span class="line">        <span class="built_in">vputs</span>(p2 + <span class="number">1</span>, q2 - p2);</span><br><span class="line">        <span class="keyword">if</span> (!adjust) <span class="built_in">fill</span>((q1 - p1) + (q2 - p2));</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="type">char</span> c) {</span><br><span class="line">        <span class="keyword">if</span> (adjust) <span class="built_in">fill</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">vput</span>(c);</span><br><span class="line">        <span class="keyword">if</span> (!adjust) <span class="built_in">fill</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="type">const</span> <span class="type">char</span> *s) {</span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="keyword">if</span> (adjust) <span class="built_in">fill</span>(n);</span><br><span class="line">        <span class="built_in">vputs</span>(s, n);</span><br><span class="line">        <span class="keyword">if</span> (!adjust) <span class="built_in">fill</span>(n);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="type">const</span> std::string &amp;s) {</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (adjust) <span class="built_in">fill</span>(n);</span><br><span class="line">        <span class="built_in">vputs</span>(s.<span class="built_in">data</span>(), n);</span><br><span class="line">        <span class="keyword">if</span> (!adjust) <span class="built_in">fill</span>(n);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(std::string_view sv) {</span><br><span class="line">        <span class="type">int</span> n = sv.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (adjust) <span class="built_in">fill</span>(n);</span><br><span class="line">        <span class="built_in">vputs</span>(sv.<span class="built_in">data</span>(), n);</span><br><span class="line">        <span class="keyword">if</span> (!adjust) <span class="built_in">fill</span>(n);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="type">bool</span> f) {</span><br><span class="line">        <span class="keyword">if</span> (f) {</span><br><span class="line">            <span class="keyword">if</span> (boolalpha) *<span class="keyword">this</span> &lt;&lt; (kase ? <span class="string">"TRUE"</span> : <span class="string">"true"</span>);</span><br><span class="line">            <span class="keyword">else</span> *<span class="keyword">this</span> &lt;&lt; <span class="string">'1'</span>;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">if</span> (boolalpha) *<span class="keyword">this</span> &lt;&lt; (kase ? <span class="string">"FALSE"</span> : <span class="string">"false"</span>);</span><br><span class="line">            <span class="keyword">else</span> *<span class="keyword">this</span> &lt;&lt; <span class="string">'0'</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="type">const</span> <span class="type">void</span> *p) {</span><br><span class="line">        <span class="type">int</span> n = base;</span><br><span class="line">        <span class="type">bool</span> f = showbase;</span><br><span class="line">        base = <span class="number">16</span>, showbase = <span class="literal">true</span>;</span><br><span class="line">        *<span class="keyword">this</span> &lt;&lt; (u64)p;</span><br><span class="line">        base = n, showbase = f;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(std::<span class="type">nullptr_t</span>) {</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span> &lt;&lt; (kase ? <span class="string">"NULLPTR"</span> : <span class="string">"nullptr"</span>);</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(symbols::symbol a) {</span><br><span class="line">        <span class="keyword">switch</span> (a) {</span><br><span class="line">        <span class="keyword">case</span> symbols::endl: <span class="built_in">vput</span>(<span class="string">'\n'</span>); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::ends: <span class="built_in">vput</span>(<span class="string">' '</span>); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::flush: <span class="built_in">vflush</span>(); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::bin: eps = <span class="built_in">qpow</span>(base = <span class="number">2</span>, precision); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::oct: eps = <span class="built_in">qpow</span>(base = <span class="number">8</span>, precision); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::dec: eps = <span class="built_in">qpow</span>(base = <span class="number">10</span>, precision); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::hex: eps = <span class="built_in">qpow</span>(base = <span class="number">16</span>, precision); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::left: adjust = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::right: adjust = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::boolalpha: boolalpha = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::noboolalpha: boolalpha = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::showbase: showbase = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::noshowbase: showbase = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::showpoint: showpoint = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::noshowpoint: showpoint = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::showpos: showpos = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::noshowpos: showpos = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::uppercase: kase = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::lowercase: kase = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::fixed: fixed = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> symbols::defaultfloat: fixed = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            base = <span class="number">10</span>, precision = <span class="number">6</span>, width = <span class="number">0</span>, eps = <span class="number">1e6</span>;</span><br><span class="line">            adjust = <span class="literal">true</span>;</span><br><span class="line">            boolalpha = showbase = showpoint = showpos = kase = fixed = <span class="literal">false</span>;</span><br><span class="line">            setfill = <span class="string">' '</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(symbols::setbase a) {</span><br><span class="line">        base = std::<span class="built_in">max</span>(std::<span class="built_in">min</span>(a.base, <span class="number">36</span>), <span class="number">2</span>);</span><br><span class="line">        eps = <span class="built_in">qpow</span>(base, precision);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(symbols::setfill a) {</span><br><span class="line">        setfill = a.fill;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(symbols::setprecision a) {</span><br><span class="line">        precision = std::<span class="built_in">max</span>(a.precision, <span class="number">0</span>);</span><br><span class="line">        eps = <span class="built_in">qpow</span>(base, precision);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ostream &amp;<span class="keyword">operator</span>&lt;&lt;(symbols::setw a) {</span><br><span class="line">        width = std::<span class="built_in">max</span>(a.width, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line">} <span class="comment">// namespace interface</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZ = <span class="number">0xfffff</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">istream</span> : <span class="keyword">public</span> interface::istream {</span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span> buf[SIZ], *p = buf, *q = buf;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">char</span> <span class="title">vget</span><span class="params">()</span> <span class="keyword">final</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (p == q) {</span><br><span class="line">            <span class="type">int</span> len = <span class="built_in">fread</span>(buf, <span class="number">1</span>, SIZ, stream);</span><br><span class="line">            <span class="keyword">if</span> (!len) <span class="keyword">return</span> EOF;</span><br><span class="line">            p = buf, q = buf + len;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> *p++;</span><br><span class="line">    }</span><br><span class="line">  <span class="keyword">protected</span>:</span><br><span class="line">    FILE *stream = stdin;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">istream</span>() { <span class="built_in">fclose</span>(stream); }</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ifstream</span> : <span class="keyword">public</span> istream {</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ifstream</span><span class="params">(FILE *p)</span> </span>{ istream::stream = p; }</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ifstream</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s)</span> </span>{ istream::stream = <span class="built_in">fopen</span>(s, <span class="string">"r"</span>); }</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ostream</span> : <span class="keyword">public</span> interface::ostream {</span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span> buf[SIZ], *p = buf;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vput</span><span class="params">(<span class="type">char</span> c)</span> <span class="keyword">final</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (p - buf &gt;= SIZ) <span class="built_in">vflush</span>();</span><br><span class="line">        *p++ = c;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vputs</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s, <span class="type">int</span> n)</span> <span class="keyword">final</span> </span>{</span><br><span class="line">        <span class="type">int</span> used = p - buf, len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n - len + used &gt;= SIZ) {</span><br><span class="line">            <span class="built_in">memcpy</span>(buf + used, s + len, SIZ - used);</span><br><span class="line">            p = buf + SIZ;</span><br><span class="line">            <span class="built_in">vflush</span>();</span><br><span class="line">            len += SIZ - used, used = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">memcpy</span>(buf + used, s + len, n - len);</span><br><span class="line">        p = buf + used + n - len;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vfill</span><span class="params">(<span class="type">char</span> c, <span class="type">int</span> n)</span> <span class="keyword">final</span> </span>{</span><br><span class="line">        <span class="type">int</span> used = p - buf, len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n - len + used &gt;= SIZ) {</span><br><span class="line">            <span class="built_in">memset</span>(buf + used, c, SIZ - used);</span><br><span class="line">            p = buf + SIZ;</span><br><span class="line">            <span class="built_in">vflush</span>();</span><br><span class="line">            len += SIZ - used, used = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">memset</span>(buf + used, c, n - len);</span><br><span class="line">        p = buf + used + n - len;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vflush</span><span class="params">()</span> <span class="keyword">final</span> </span>{</span><br><span class="line">        <span class="built_in">fwrite</span>(buf, <span class="number">1</span>, p - buf, stream);</span><br><span class="line">        p = buf;</span><br><span class="line">        <span class="built_in">fflush</span>(stream);</span><br><span class="line">    }</span><br><span class="line">  <span class="keyword">protected</span>:</span><br><span class="line">    FILE *stream = stdout;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">ostream</span>() {</span><br><span class="line">        <span class="built_in">vflush</span>();</span><br><span class="line">        <span class="built_in">fclose</span>(stream);</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ofstream</span> : <span class="keyword">public</span> ostream {</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ofstream</span><span class="params">(FILE *p)</span> </span>{ ostream::stream = p; }</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ofstream</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s)</span> </span>{ ostream::stream = <span class="built_in">fopen</span>(s, <span class="string">"w"</span>); }</span><br><span class="line">};</span><br><span class="line"><span class="type">static</span> istream is;</span><br><span class="line"><span class="type">static</span> ostream os;</span><br><span class="line">}; <span class="comment">// namespace fastio</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Java">Java</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/tiann/KernelSU/master/manager/app/src/main/java/me/weishu/kernelsu/ui/KsuService.java">https://raw.githubusercontent.com/tiann/KernelSU/master/manager/app/src/main/java/me/weishu/kernelsu/ui/KsuService.java</a></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.weishu.kernelsu.ui;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.content.pm.PackageInfo;</span><br><span class="line"><span class="keyword">import</span> android.content.pm.PackageManager;</span><br><span class="line"><span class="keyword">import</span> android.os.IBinder;</span><br><span class="line"><span class="keyword">import</span> android.os.UserHandle;</span><br><span class="line"><span class="keyword">import</span> android.os.UserManager;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> androidx.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> com.topjohnwu.superuser.ipc.RootService;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.IKsuInterface;</span><br><span class="line"><span class="keyword">import</span> rikka.parcelablelist.ParcelableListSlice;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> weishu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/4/18.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KsuService</span> <span class="keyword">extends</span> <span class="title class_">RootService</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">TAG</span> <span class="operator">=</span> <span class="string">"KsuService"</span>;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Stub</span> <span class="keyword">extends</span> <span class="title class_">IKsuInterface</span>.Stub {</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> ParcelableListSlice&lt;PackageInfo&gt; <span class="title function_">getPackages</span><span class="params">(<span class="type">int</span> flags)</span> {</span><br><span class="line">            List&lt;PackageInfo&gt; list = getInstalledPackagesAll(flags);</span><br><span class="line">            Log.i(TAG, <span class="string">"getPackages: "</span> + list.size());</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ParcelableListSlice</span>&lt;&gt;(list);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> IBinder <span class="title function_">onBind</span><span class="params">(<span class="meta">@NonNull</span> Intent intent)</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Stub</span>();</span><br><span class="line">    }</span><br><span class="line">    List&lt;Integer&gt; <span class="title function_">getUserIds</span><span class="params">()</span> {</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">UserManager</span> <span class="variable">um</span> <span class="operator">=</span> (UserManager) getSystemService(Context.USER_SERVICE);</span><br><span class="line">        List&lt;UserHandle&gt; userProfiles = um.getUserProfiles();</span><br><span class="line">        <span class="keyword">for</span> (UserHandle userProfile : userProfiles) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">userId</span> <span class="operator">=</span> userProfile.hashCode();</span><br><span class="line">            result.add(userProfile.hashCode());</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    }</span><br><span class="line">    ArrayList&lt;PackageInfo&gt; <span class="title function_">getInstalledPackagesAll</span><span class="params">(<span class="type">int</span> flags)</span> {</span><br><span class="line">        ArrayList&lt;PackageInfo&gt; packages = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Integer userId : getUserIds()) {</span><br><span class="line">            Log.i(TAG, <span class="string">"getInstalledPackagesAll: "</span> + userId);</span><br><span class="line">            packages.addAll(getInstalledPackagesAsUser(flags, userId));</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> packages;</span><br><span class="line">    }</span><br><span class="line">    List&lt;PackageInfo&gt; <span class="title function_">getInstalledPackagesAsUser</span><span class="params">(<span class="type">int</span> flags, <span class="type">int</span> userId)</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">PackageManager</span> <span class="variable">pm</span> <span class="operator">=</span> getPackageManager();</span><br><span class="line">            <span class="type">Method</span> <span class="variable">getInstalledPackagesAsUser</span> <span class="operator">=</span> pm.getClass().getDeclaredMethod(<span class="string">"getInstalledPackagesAsUser"</span>, <span class="type">int</span>.class, <span class="type">int</span>.class);</span><br><span class="line">            <span class="keyword">return</span> (List&lt;PackageInfo&gt;) getInstalledPackagesAsUser.invoke(pm, flags, userId);</span><br><span class="line">        } <span class="keyword">catch</span> (Throwable e) {</span><br><span class="line">            Log.e(TAG, <span class="string">"err"</span>, e);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="Kotlin">Kotlin</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/tiann/KernelSU/master/manager/app/src/main/java/me/weishu/kernelsu/ui/screen/Flash.kt">https://raw.githubusercontent.com/tiann/KernelSU/master/manager/app/src/main/java/me/weishu/kernelsu/ui/screen/Flash.kt</a></p><figure class="highlight kotlin"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.weishu.kernelsu.ui.screen</span><br><span class="line"><span class="keyword">import</span> android.net.Uri</span><br><span class="line"><span class="keyword">import</span> android.os.Environment</span><br><span class="line"><span class="keyword">import</span> android.os.Parcelable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.Column</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.fillMaxSize</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.padding</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.rememberScrollState</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.verticalScroll</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material.icons.Icons</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material.icons.automirrored.filled.ArrowBack</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material.icons.filled.Refresh</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material.icons.filled.Save</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.ExperimentalMaterial3Api</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.ExtendedFloatingActionButton</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Icon</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.IconButton</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.MaterialTheme</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Scaffold</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Text</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.TopAppBar</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.Composable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.LaunchedEffect</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.getValue</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.mutableStateOf</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.rememberCoroutineScope</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.saveable.rememberSaveable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.setValue</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.ExperimentalComposeUiApi</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.input.key.Key</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.input.key.key</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.res.stringResource</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.text.font.FontFamily</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.tooling.preview.Preview</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.dp</span><br><span class="line"><span class="keyword">import</span> com.ramcosta.composedestinations.<span class="keyword">annotation</span>.Destination</span><br><span class="line"><span class="keyword">import</span> com.ramcosta.composedestinations.navigation.DestinationsNavigator</span><br><span class="line"><span class="keyword">import</span> com.ramcosta.composedestinations.navigation.EmptyDestinationsNavigator</span><br><span class="line"><span class="keyword">import</span> kotlinx.coroutines.Dispatchers</span><br><span class="line"><span class="keyword">import</span> kotlinx.coroutines.launch</span><br><span class="line"><span class="keyword">import</span> kotlinx.coroutines.withContext</span><br><span class="line"><span class="keyword">import</span> kotlinx.parcelize.Parcelize</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.R</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.ui.component.KeyEventBlocker</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.ui.util.LkmSelection</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.ui.util.LocalSnackbarHost</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.ui.util.installBoot</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.ui.util.flashModule</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.ui.util.reboot</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.ui.util.restoreBoot</span><br><span class="line"><span class="keyword">import</span> me.weishu.kernelsu.ui.util.uninstallPermanently</span><br><span class="line"><span class="keyword">import</span> java.io.File</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat</span><br><span class="line"><span class="keyword">import</span> java.util.Date</span><br><span class="line"><span class="keyword">import</span> java.util.Locale</span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">FlashingStatus</span> {</span><br><span class="line">    FLASHING,</span><br><span class="line">    SUCCESS,</span><br><span class="line">    FAILED</span><br><span class="line">}</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> weishu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/1/1.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@OptIn(ExperimentalComposeUiApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="meta">@Destination</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">FlashScreen</span><span class="params">(navigator: <span class="type">DestinationsNavigator</span>, flashIt: <span class="type">FlashIt</span>)</span></span> {</span><br><span class="line">    <span class="keyword">var</span> text <span class="keyword">by</span> rememberSaveable { mutableStateOf(<span class="string">""</span>) }</span><br><span class="line">    <span class="keyword">val</span> logContent = rememberSaveable { StringBuilder() }</span><br><span class="line">    <span class="keyword">var</span> showFloatAction <span class="keyword">by</span> rememberSaveable { mutableStateOf(<span class="literal">false</span>) }</span><br><span class="line">    <span class="keyword">val</span> snackBarHost = LocalSnackbarHost.current</span><br><span class="line">    <span class="keyword">val</span> scope = rememberCoroutineScope()</span><br><span class="line">    <span class="keyword">val</span> scrollState = rememberScrollState()</span><br><span class="line">    <span class="keyword">var</span> flashing <span class="keyword">by</span> rememberSaveable {</span><br><span class="line">        mutableStateOf(FlashingStatus.FLASHING)</span><br><span class="line">    }</span><br><span class="line">    LaunchedEffect(<span class="built_in">Unit</span>) {</span><br><span class="line">        <span class="keyword">if</span> (text.isNotEmpty()) {</span><br><span class="line">            <span class="keyword">return</span><span class="symbol">@LaunchedEffect</span></span><br><span class="line">        }</span><br><span class="line">        withContext(Dispatchers.IO) {</span><br><span class="line">            flashIt(flashIt, onFinish = { showReboot, code -&gt;</span><br><span class="line">                <span class="keyword">if</span> (code != <span class="number">0</span>) {</span><br><span class="line">                    text += <span class="string">"Error: exit code = <span class="variable">$code</span>.\nPlease save and check the log.\n"</span></span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span> (showReboot) {</span><br><span class="line">                    text += <span class="string">"\n\n\n"</span></span><br><span class="line">                    showFloatAction = <span class="literal">true</span></span><br><span class="line">                }</span><br><span class="line">                flashing = <span class="keyword">if</span> (code == <span class="number">0</span>) FlashingStatus.SUCCESS <span class="keyword">else</span> FlashingStatus.FAILED</span><br><span class="line">            }, onStdout = {</span><br><span class="line">                text += <span class="string">"<span class="variable">$it</span>\n"</span></span><br><span class="line">                logContent.append(it).append(<span class="string">"\n"</span>)</span><br><span class="line">            }, onStderr = {</span><br><span class="line">                logContent.append(it).append(<span class="string">"\n"</span>)</span><br><span class="line">            });</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = {</span><br><span class="line">            TopBar(</span><br><span class="line">                flashing,</span><br><span class="line">                onBack = {</span><br><span class="line">                    navigator.popBackStack()</span><br><span class="line">                },</span><br><span class="line">                onSave = {</span><br><span class="line">                    scope.launch {</span><br><span class="line">                        <span class="keyword">val</span> format = SimpleDateFormat(<span class="string">"yyyy-MM-dd-HH-mm-ss"</span>, Locale.getDefault())</span><br><span class="line">                        <span class="keyword">val</span> date = format.format(Date())</span><br><span class="line">                        <span class="keyword">val</span> file = File(</span><br><span class="line">                            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS),</span><br><span class="line">                            <span class="string">"KernelSU_install_log_<span class="subst">${date}</span>.log"</span></span><br><span class="line">                        )</span><br><span class="line">                        file.writeText(logContent.toString())</span><br><span class="line">                        snackBarHost.showSnackbar(<span class="string">"Log saved to <span class="subst">${file.absolutePath}</span>"</span>)</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            )</span><br><span class="line">        },</span><br><span class="line">        floatingActionButton = {</span><br><span class="line">            <span class="keyword">if</span> (showFloatAction) {</span><br><span class="line">                <span class="keyword">val</span> reboot = stringResource(id = R.string.reboot)</span><br><span class="line">                ExtendedFloatingActionButton(</span><br><span class="line">                    onClick = {</span><br><span class="line">                        scope.launch {</span><br><span class="line">                            withContext(Dispatchers.IO) {</span><br><span class="line">                                reboot()</span><br><span class="line">                            }</span><br><span class="line">                        }</span><br><span class="line">                    },</span><br><span class="line">                    icon = { Icon(Icons.Filled.Refresh, reboot) },</span><br><span class="line">                    text = { Text(text = reboot) },</span><br><span class="line">                )</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    ) { innerPadding -&gt;</span><br><span class="line">        KeyEventBlocker {</span><br><span class="line">            it.key == Key.VolumeDown || it.key == Key.VolumeUp</span><br><span class="line">        }</span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize(<span class="number">1f</span>)</span><br><span class="line">                .padding(innerPadding)</span><br><span class="line">                .verticalScroll(scrollState),</span><br><span class="line">        ) {</span><br><span class="line">            LaunchedEffect(text) {</span><br><span class="line">                scrollState.animateScrollTo(scrollState.maxValue)</span><br><span class="line">            }</span><br><span class="line">            Text(</span><br><span class="line">                modifier = Modifier.padding(<span class="number">8.</span>dp),</span><br><span class="line">                text = text,</span><br><span class="line">                fontSize = MaterialTheme.typography.bodySmall.fontSize,</span><br><span class="line">                fontFamily = FontFamily.Monospace,</span><br><span class="line">                lineHeight = MaterialTheme.typography.bodySmall.lineHeight,</span><br><span class="line">            )</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="meta">@Parcelize</span></span><br><span class="line"><span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title class_">FlashIt</span> : <span class="type">Parcelable</span> {</span><br><span class="line">    <span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">FlashBoot</span>(<span class="keyword">val</span> boot: Uri? = <span class="literal">null</span>, <span class="keyword">val</span> lkm: LkmSelection, <span class="keyword">val</span> ota: <span class="built_in">Boolean</span>) :</span><br><span class="line">        FlashIt()</span><br><span class="line">    <span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">FlashModule</span>(<span class="keyword">val</span> uri: Uri) : FlashIt()</span><br><span class="line">    <span class="keyword">data</span> <span class="keyword">object</span> FlashRestore : FlashIt()</span><br><span class="line">    <span class="keyword">data</span> <span class="keyword">object</span> FlashUninstall : FlashIt()</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">flashIt</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    flashIt: <span class="type">FlashIt</span>, onFinish: (<span class="type">Boolean</span>, <span class="type">Int</span>) -&gt; <span class="type">Unit</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    onStdout: (<span class="type">String</span>) -&gt; <span class="type">Unit</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    onStderr: (<span class="type">String</span>) -&gt; <span class="type">Unit</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span> {</span><br><span class="line">    <span class="keyword">when</span> (flashIt) {</span><br><span class="line">        <span class="keyword">is</span> FlashIt.FlashBoot -&gt; installBoot(</span><br><span class="line">            flashIt.boot,</span><br><span class="line">            flashIt.lkm,</span><br><span class="line">            flashIt.ota,</span><br><span class="line">            onFinish,</span><br><span class="line">            onStdout,</span><br><span class="line">            onStderr</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">is</span> FlashIt.FlashModule -&gt; flashModule(flashIt.uri, onFinish, onStdout, onStderr)</span><br><span class="line">        FlashIt.FlashRestore -&gt; restoreBoot(onFinish, onStdout, onStderr)</span><br><span class="line">        FlashIt.FlashUninstall -&gt; uninstallPermanently(onFinish, onStdout, onStderr)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">TopBar</span><span class="params">(status: <span class="type">FlashingStatus</span>, onBack: () -&gt; <span class="type">Unit</span> = {}, onSave: () -&gt; <span class="type">Unit</span> = {})</span></span> {</span><br><span class="line">    TopAppBar(</span><br><span class="line">        title = {</span><br><span class="line">            Text(</span><br><span class="line">                stringResource(</span><br><span class="line">                    <span class="keyword">when</span> (status) {</span><br><span class="line">                        FlashingStatus.FLASHING -&gt; R.string.flashing</span><br><span class="line">                        FlashingStatus.SUCCESS -&gt; R.string.flash_success</span><br><span class="line">                        FlashingStatus.FAILED -&gt; R.string.flash_failed</span><br><span class="line">                    }</span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">        },</span><br><span class="line">        navigationIcon = {</span><br><span class="line">            IconButton(</span><br><span class="line">                onClick = onBack</span><br><span class="line">            ) { Icon(Icons.AutoMirrored.Filled.ArrowBack, contentDescription = <span class="literal">null</span>) }</span><br><span class="line">        },</span><br><span class="line">        actions = {</span><br><span class="line">            IconButton(onClick = onSave) {</span><br><span class="line">                Icon(</span><br><span class="line">                    imageVector = Icons.Filled.Save,</span><br><span class="line">                    contentDescription = <span class="string">"Localized description"</span></span><br><span class="line">                )</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    )</span><br><span class="line">}</span><br><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">InstallPreview</span><span class="params">()</span></span> {</span><br><span class="line">    InstallScreen(EmptyDestinationsNavigator)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="解释语言">解释语言</h3><h4 id="Python">Python</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/yt-dlp/yt-dlp/master/yt_dlp/downloader/dash.py">https://raw.githubusercontent.com/yt-dlp/yt-dlp/master/yt_dlp/downloader/dash.py</a></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> get_suitable_downloader</span><br><span class="line"><span class="keyword">from</span> .fragment <span class="keyword">import</span> FragmentFD</span><br><span class="line"><span class="keyword">from</span> ..utils <span class="keyword">import</span> update_url_query, urljoin</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DashSegmentsFD</span>(<span class="title class_ inherited__">FragmentFD</span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Download segments in a DASH manifest. External downloaders can take over</span></span><br><span class="line"><span class="string">    the fragment downloads by supporting the 'dash_frag_urls' protocol</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    FD_NAME = <span class="string">'dashsegments'</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">real_download</span>(<span class="params">self, filename, info_dict</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'http_dash_segments_generator'</span> <span class="keyword">in</span> info_dict[<span class="string">'protocol'</span>].split(<span class="string">'+'</span>):</span><br><span class="line">            real_downloader = <span class="literal">None</span>  <span class="comment"># No external FD can support --live-from-start</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> info_dict.get(<span class="string">'is_live'</span>):</span><br><span class="line">                <span class="variable language_">self</span>.report_error(<span class="string">'Live DASH videos are not supported'</span>)</span><br><span class="line">            real_downloader = get_suitable_downloader(</span><br><span class="line">                info_dict, <span class="variable language_">self</span>.params, <span class="literal">None</span>, protocol=<span class="string">'dash_frag_urls'</span>, to_stdout=(filename == <span class="string">'-'</span>))</span><br><span class="line">        real_start = time.time()</span><br><span class="line">        requested_formats = [{**info_dict, **fmt} <span class="keyword">for</span> fmt <span class="keyword">in</span> info_dict.get(<span class="string">'requested_formats'</span>, [])]</span><br><span class="line">        args = []</span><br><span class="line">        <span class="keyword">for</span> fmt <span class="keyword">in</span> requested_formats <span class="keyword">or</span> [info_dict]:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                fragment_count = <span class="number">1</span> <span class="keyword">if</span> <span class="variable language_">self</span>.params.get(<span class="string">'test'</span>) <span class="keyword">else</span> <span class="built_in">len</span>(fmt[<span class="string">'fragments'</span>])</span><br><span class="line">            <span class="keyword">except</span> TypeError:</span><br><span class="line">                fragment_count = <span class="literal">None</span></span><br><span class="line">            ctx = {</span><br><span class="line">                <span class="string">'filename'</span>: fmt.get(<span class="string">'filepath'</span>) <span class="keyword">or</span> filename,</span><br><span class="line">                <span class="string">'live'</span>: <span class="string">'is_from_start'</span> <span class="keyword">if</span> fmt.get(<span class="string">'is_from_start'</span>) <span class="keyword">else</span> fmt.get(<span class="string">'is_live'</span>),</span><br><span class="line">                <span class="string">'total_frags'</span>: fragment_count,</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> real_downloader:</span><br><span class="line">                <span class="variable language_">self</span>._prepare_external_frag_download(ctx)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="variable language_">self</span>._prepare_and_start_frag_download(ctx, fmt)</span><br><span class="line">            ctx[<span class="string">'start'</span>] = real_start</span><br><span class="line">            extra_query = <span class="literal">None</span></span><br><span class="line">            extra_param_to_segment_url = info_dict.get(<span class="string">'extra_param_to_segment_url'</span>)</span><br><span class="line">            <span class="keyword">if</span> extra_param_to_segment_url:</span><br><span class="line">                extra_query = urllib.parse.parse_qs(extra_param_to_segment_url)</span><br><span class="line">            fragments_to_download = <span class="variable language_">self</span>._get_fragments(fmt, ctx, extra_query)</span><br><span class="line">            <span class="keyword">if</span> real_downloader:</span><br><span class="line">                <span class="variable language_">self</span>.to_screen(</span><br><span class="line">                    <span class="string">f'[<span class="subst">{self.FD_NAME}</span>] Fragment downloads will be delegated to <span class="subst">{real_downloader.get_basename()}</span>'</span>)</span><br><span class="line">                info_dict[<span class="string">'fragments'</span>] = <span class="built_in">list</span>(fragments_to_download)</span><br><span class="line">                fd = real_downloader(<span class="variable language_">self</span>.ydl, <span class="variable language_">self</span>.params)</span><br><span class="line">                <span class="keyword">return</span> fd.real_download(filename, info_dict)</span><br><span class="line">            args.append([ctx, fragments_to_download, fmt])</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.download_and_append_fragments_multiple(*args, is_fatal=<span class="keyword">lambda</span> idx: idx == <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_resolve_fragments</span>(<span class="params">self, fragments, ctx</span>):</span><br><span class="line">        fragments = fragments(ctx) <span class="keyword">if</span> <span class="built_in">callable</span>(fragments) <span class="keyword">else</span> fragments</span><br><span class="line">        <span class="keyword">return</span> [<span class="built_in">next</span>(<span class="built_in">iter</span>(fragments))] <span class="keyword">if</span> <span class="variable language_">self</span>.params.get(<span class="string">'test'</span>) <span class="keyword">else</span> fragments</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_get_fragments</span>(<span class="params">self, fmt, ctx, extra_query</span>):</span><br><span class="line">        fragment_base_url = fmt.get(<span class="string">'fragment_base_url'</span>)</span><br><span class="line">        fragments = <span class="variable language_">self</span>._resolve_fragments(fmt[<span class="string">'fragments'</span>], ctx)</span><br><span class="line">        frag_index = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i, fragment <span class="keyword">in</span> <span class="built_in">enumerate</span>(fragments):</span><br><span class="line">            frag_index += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> frag_index &lt;= ctx[<span class="string">'fragment_index'</span>]:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            fragment_url = fragment.get(<span class="string">'url'</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> fragment_url:</span><br><span class="line">                <span class="keyword">assert</span> fragment_base_url</span><br><span class="line">                fragment_url = urljoin(fragment_base_url, fragment[<span class="string">'path'</span>])</span><br><span class="line">            <span class="keyword">if</span> extra_query:</span><br><span class="line">                fragment_url = update_url_query(fragment_url, extra_query)</span><br><span class="line">            <span class="keyword">yield</span> {</span><br><span class="line">                <span class="string">'frag_index'</span>: frag_index,</span><br><span class="line">                <span class="string">'fragment_count'</span>: fragment.get(<span class="string">'fragment_count'</span>),</span><br><span class="line">                <span class="string">'index'</span>: i,</span><br><span class="line">                <span class="string">'url'</span>: fragment_url,</span><br><span class="line">            }</span><br></pre></td></tr></tbody></table></figure><h4 id="Shell">Shell</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/f-droid/fdroidclient/master/create_ota.sh">https://raw.githubusercontent.com/f-droid/fdroidclient/master/create_ota.sh</a></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Script to prepare an update.zip containing F-Droid</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"></span><br><span class="line">PROG_DIR=$(<span class="built_in">dirname</span> $(<span class="built_in">realpath</span> <span class="variable">$0</span>))</span><br><span class="line"></span><br><span class="line">TMP_DIR=$(<span class="built_in">mktemp</span> -d -t fdroidclient.tmp.XXXXXXXX)</span><br><span class="line"><span class="built_in">trap</span> <span class="string">"rm -rf <span class="variable">$TMP_DIR</span>"</span> EXIT</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">error</span></span>() {</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"*** ERROR: "</span> <span class="variable">$@</span></span><br><span class="line">    usage</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">usage</span></span>() {</span><br><span class="line">    <span class="built_in">cat</span> &lt;&lt; <span class="string">EOFU</span></span><br><span class="line"><span class="string">Usage: $0 variant</span></span><br><span class="line"><span class="string">where:</span></span><br><span class="line"><span class="string"> - variant is one of: debug, release, or binary</span></span><br><span class="line"><span class="string">EOFU</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment"># Parse input</span></span><br><span class="line">VARIANT=<span class="string">"<span class="variable">$1</span>"</span></span><br><span class="line">[[ -z <span class="string">"<span class="variable">$VARIANT</span>"</span> ]] &amp;&amp; error <span class="string">"Missing variant"</span></span><br><span class="line"></span><br><span class="line">VERSIONCODE=<span class="variable">$2</span></span><br><span class="line"></span><br><span class="line">GPG=<span class="string">"gpg --keyring <span class="variable">$PROG_DIR</span>/f-droid.org-signing-key.gpg --no-default-keyring --trust-model always"</span></span><br><span class="line"></span><br><span class="line">GITVERSION=$(git describe --tags --always)</span><br><span class="line"></span><br><span class="line">FDROID_APK=F-Droid.apk</span><br><span class="line"></span><br><span class="line"><span class="comment"># Collect files</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$TMP_DIR</span>/META-INF/com/google/android/</span><br><span class="line"><span class="built_in">cp</span> app/src/main/scripts/update-binary <span class="variable">$TMP_DIR</span>/META-INF/com/google/android/</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$VARIANT</span> == <span class="string">"binary"</span> ] ; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ -z <span class="variable">$VERSIONCODE</span> ]; <span class="keyword">then</span></span><br><span class="line">        curl -L https://f-droid.org/<span class="variable">$FDROID_APK</span> &gt; <span class="variable">$TMP_DIR</span>/<span class="variable">$FDROID_APK</span></span><br><span class="line">        curl -L https://f-droid.org/<span class="variable">${FDROID_APK}</span>.asc &gt; <span class="variable">$TMP_DIR</span>/<span class="variable">${FDROID_APK}</span>.asc</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        GITVERSION=<span class="variable">$VERSIONCODE</span></span><br><span class="line">        DL_APK=org.fdroid.fdroid_<span class="variable">${VERSIONCODE}</span>.apk</span><br><span class="line">        curl -L https://f-droid.org/repo/<span class="variable">$DL_APK</span> &gt; <span class="variable">$TMP_DIR</span>/<span class="variable">$FDROID_APK</span></span><br><span class="line">        curl -L https://f-droid.org/repo/<span class="variable">${DL_APK}</span>.asc &gt; <span class="variable">$TMP_DIR</span>/<span class="variable">${FDROID_APK}</span>.asc</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="variable">$GPG</span> --verify <span class="variable">$TMP_DIR</span>/<span class="variable">${FDROID_APK}</span>.asc</span><br><span class="line">    <span class="built_in">rm</span> <span class="variable">$TMP_DIR</span>/<span class="variable">${FDROID_APK}</span>.asc</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">cd</span> <span class="variable">$PROG_DIR</span></span><br><span class="line">    ./gradlew assemble$(<span class="built_in">echo</span> <span class="variable">$VARIANT</span> | <span class="built_in">tr</span> <span class="string">'dr'</span> <span class="string">'DR'</span>)</span><br><span class="line">    OUT_DIR=<span class="variable">$PROG_DIR</span>/app/build/outputs/apk</span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$VARIANT</span> == <span class="string">"debug"</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">cp</span> <span class="variable">$OUT_DIR</span>/app-<span class="variable">${VARIANT}</span>.apk \</span><br><span class="line">           <span class="variable">$TMP_DIR</span>/<span class="variable">$FDROID_APK</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="variable">$OUT_DIR</span>/app-<span class="variable">${VARIANT}</span>-signed.apk ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">cp</span> <span class="variable">$OUT_DIR</span>/app-<span class="variable">${VARIANT}</span>-signed.apk \</span><br><span class="line">           <span class="variable">$TMP_DIR</span>/<span class="variable">$FDROID_APK</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cp</span> <span class="variable">$OUT_DIR</span>/app-<span class="variable">${VARIANT}</span>-unsigned.apk \</span><br><span class="line">           <span class="variable">$TMP_DIR</span>/<span class="variable">$FDROID_APK</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Make zip</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$VARIANT</span> == <span class="string">"binary"</span> ] ; <span class="keyword">then</span></span><br><span class="line">    ZIPBASE=F-DroidFromBinaries-<span class="variable">${GITVERSION}</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    ZIPBASE=F-Droid-<span class="variable">${GITVERSION}</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$VARIANT</span> == <span class="string">"debug"</span> ]; <span class="keyword">then</span></span><br><span class="line">    ZIP=<span class="variable">${ZIPBASE}</span>-debug.zip</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    ZIP=<span class="variable">${ZIPBASE}</span>.zip</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">OUT_DIR=<span class="variable">$PROG_DIR</span>/app/build/distributions</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$OUT_DIR</span></span><br><span class="line">[ -f <span class="variable">$OUT_DIR</span>/<span class="variable">$ZIP</span> ] &amp;&amp; <span class="built_in">rm</span> -f <span class="variable">$OUT_DIR</span>/<span class="variable">$ZIP</span></span><br><span class="line"><span class="built_in">pushd</span> <span class="variable">$TMP_DIR</span></span><br><span class="line">zip -r <span class="variable">$OUT_DIR</span>/<span class="variable">$ZIP</span> .</span><br><span class="line"><span class="built_in">popd</span></span><br></pre></td></tr></tbody></table></figure><h4 id="JavaScript">JavaScript</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/jerryc127/hexo-theme-butterfly/master/source/js/search/local-search.js">https://raw.githubusercontent.com/jerryc127/hexo-theme-butterfly/master/source/js/search/local-search.js</a></p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Refer to hexo-generator-searchdb</span></span><br><span class="line"><span class="comment"> * https://github.com/next-theme/hexo-generator-searchdb/blob/main/dist/search.js</span></span><br><span class="line"><span class="comment"> * Modified by hexo-theme-butterfly</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LocalSearch</span> {</span><br><span class="line">  <span class="title function_">constructor</span> (<span class="params">{</span></span><br><span class="line"><span class="params">    path = <span class="string">''</span>,</span></span><br><span class="line"><span class="params">    <span class="built_in">unescape</span> = <span class="literal">false</span>,</span></span><br><span class="line"><span class="params">    top_n_per_article = <span class="number">1</span></span></span><br><span class="line"><span class="params">  }</span>) {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">path</span> = path</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">unescape</span> = <span class="built_in">unescape</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">top_n_per_article</span> = top_n_per_article</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isfetched</span> = <span class="literal">false</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">datas</span> = <span class="literal">null</span></span><br><span class="line">  }</span><br><span class="line">  <span class="title function_">getIndexByWord</span> (words, text, caseSensitive = <span class="literal">false</span>) {</span><br><span class="line">    <span class="keyword">const</span> index = []</span><br><span class="line">    <span class="keyword">const</span> included = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">    <span class="keyword">if</span> (!caseSensitive) {</span><br><span class="line">      text = text.<span class="title function_">toLowerCase</span>()</span><br><span class="line">    }</span><br><span class="line">    words.<span class="title function_">forEach</span>(<span class="function"><span class="params">word</span> =&gt;</span> {</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">unescape</span>) {</span><br><span class="line">        <span class="keyword">const</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'div'</span>)</span><br><span class="line">        div.<span class="property">innerText</span> = word</span><br><span class="line">        word = div.<span class="property">innerHTML</span></span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">const</span> wordLen = word.<span class="property">length</span></span><br><span class="line">      <span class="keyword">if</span> (wordLen === <span class="number">0</span>) <span class="keyword">return</span></span><br><span class="line">      <span class="keyword">let</span> startPosition = <span class="number">0</span></span><br><span class="line">      <span class="keyword">let</span> position = -<span class="number">1</span></span><br><span class="line">      <span class="keyword">if</span> (!caseSensitive) {</span><br><span class="line">        word = word.<span class="title function_">toLowerCase</span>()</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">while</span> ((position = text.<span class="title function_">indexOf</span>(word, startPosition)) &gt; -<span class="number">1</span>) {</span><br><span class="line">        index.<span class="title function_">push</span>({ position, word })</span><br><span class="line">        included.<span class="title function_">add</span>(word)</span><br><span class="line">        startPosition = position + wordLen</span><br><span class="line">      }</span><br><span class="line">    })</span><br><span class="line">    <span class="comment">// Sort index by position of keyword</span></span><br><span class="line">    index.<span class="title function_">sort</span>(<span class="function">(<span class="params">left, right</span>) =&gt;</span> {</span><br><span class="line">      <span class="keyword">if</span> (left.<span class="property">position</span> !== right.<span class="property">position</span>) {</span><br><span class="line">        <span class="keyword">return</span> left.<span class="property">position</span> - right.<span class="property">position</span></span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> right.<span class="property">word</span>.<span class="property">length</span> - left.<span class="property">word</span>.<span class="property">length</span></span><br><span class="line">    })</span><br><span class="line">    <span class="keyword">return</span> [index, included]</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// Merge hits into slices</span></span><br><span class="line">  <span class="title function_">mergeIntoSlice</span> (start, end, index) {</span><br><span class="line">    <span class="keyword">let</span> item = index[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> { position, word } = item</span><br><span class="line">    <span class="keyword">const</span> hits = []</span><br><span class="line">    <span class="keyword">const</span> count = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">    <span class="keyword">while</span> (position + word.<span class="property">length</span> &lt;= end &amp;&amp; index.<span class="property">length</span> !== <span class="number">0</span>) {</span><br><span class="line">      count.<span class="title function_">add</span>(word)</span><br><span class="line">      hits.<span class="title function_">push</span>({</span><br><span class="line">        position,</span><br><span class="line">        <span class="attr">length</span>: word.<span class="property">length</span></span><br><span class="line">      })</span><br><span class="line">      <span class="keyword">const</span> wordEnd = position + word.<span class="property">length</span></span><br><span class="line">      <span class="comment">// Move to next position of hit</span></span><br><span class="line">      index.<span class="title function_">shift</span>()</span><br><span class="line">      <span class="keyword">while</span> (index.<span class="property">length</span> !== <span class="number">0</span>) {</span><br><span class="line">        item = index[<span class="number">0</span>]</span><br><span class="line">        position = item.<span class="property">position</span></span><br><span class="line">        word = item.<span class="property">word</span></span><br><span class="line">        <span class="keyword">if</span> (wordEnd &gt; position) {</span><br><span class="line">          index.<span class="title function_">shift</span>()</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">      hits,</span><br><span class="line">      start,</span><br><span class="line">      end,</span><br><span class="line">      <span class="attr">count</span>: count.<span class="property">size</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// Highlight title and content</span></span><br><span class="line">  <span class="title function_">highlightKeyword</span> (val, slice) {</span><br><span class="line">    <span class="keyword">let</span> result = <span class="string">''</span></span><br><span class="line">    <span class="keyword">let</span> index = slice.<span class="property">start</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> { position, length } <span class="keyword">of</span> slice.<span class="property">hits</span>) {</span><br><span class="line">      result += val.<span class="title function_">substring</span>(index, position)</span><br><span class="line">      index = position + length</span><br><span class="line">      result += <span class="string">`&lt;mark class="search-keyword"&gt;<span class="subst">${val.substr(position, length)}</span>&lt;/mark&gt;`</span></span><br><span class="line">    }</span><br><span class="line">    result += val.<span class="title function_">substring</span>(index, slice.<span class="property">end</span>)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  }</span><br><span class="line">  <span class="title function_">getResultItems</span> (keywords) {</span><br><span class="line">    <span class="keyword">const</span> resultItems = []</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">datas</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">{ title, content, url }</span>) =&gt;</span> {</span><br><span class="line">      <span class="comment">// The number of different keywords included in the article.</span></span><br><span class="line">      <span class="keyword">const</span> [indexOfTitle, keysOfTitle] = <span class="variable language_">this</span>.<span class="title function_">getIndexByWord</span>(keywords, title)</span><br><span class="line">      <span class="keyword">const</span> [indexOfContent, keysOfContent] = <span class="variable language_">this</span>.<span class="title function_">getIndexByWord</span>(keywords, content)</span><br><span class="line">      <span class="keyword">const</span> includedCount = <span class="keyword">new</span> <span class="title class_">Set</span>([...keysOfTitle, ...keysOfContent]).<span class="property">size</span></span><br><span class="line">      <span class="comment">// Show search results</span></span><br><span class="line">      <span class="keyword">const</span> hitCount = indexOfTitle.<span class="property">length</span> + indexOfContent.<span class="property">length</span></span><br><span class="line">      <span class="keyword">if</span> (hitCount === <span class="number">0</span>) <span class="keyword">return</span></span><br><span class="line">      <span class="keyword">const</span> slicesOfTitle = []</span><br><span class="line">      <span class="keyword">if</span> (indexOfTitle.<span class="property">length</span> !== <span class="number">0</span>) {</span><br><span class="line">        slicesOfTitle.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="title function_">mergeIntoSlice</span>(<span class="number">0</span>, title.<span class="property">length</span>, indexOfTitle))</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">let</span> slicesOfContent = []</span><br><span class="line">      <span class="keyword">while</span> (indexOfContent.<span class="property">length</span> !== <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">const</span> item = indexOfContent[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">const</span> { position } = item</span><br><span class="line">        <span class="comment">// Cut out 120 characters. The maxlength of .search-input is 80.</span></span><br><span class="line">        <span class="keyword">const</span> start = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, position - <span class="number">20</span>)</span><br><span class="line">        <span class="keyword">const</span> end = <span class="title class_">Math</span>.<span class="title function_">min</span>(content.<span class="property">length</span>, position + <span class="number">100</span>)</span><br><span class="line">        slicesOfContent.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="title function_">mergeIntoSlice</span>(start, end, indexOfContent))</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">// Sort slices in content by included keywords' count and hits' count</span></span><br><span class="line">      slicesOfContent.<span class="title function_">sort</span>(<span class="function">(<span class="params">left, right</span>) =&gt;</span> {</span><br><span class="line">        <span class="keyword">if</span> (left.<span class="property">count</span> !== right.<span class="property">count</span>) {</span><br><span class="line">          <span class="keyword">return</span> right.<span class="property">count</span> - left.<span class="property">count</span></span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (left.<span class="property">hits</span>.<span class="property">length</span> !== right.<span class="property">hits</span>.<span class="property">length</span>) {</span><br><span class="line">          <span class="keyword">return</span> right.<span class="property">hits</span>.<span class="property">length</span> - left.<span class="property">hits</span>.<span class="property">length</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> left.<span class="property">start</span> - right.<span class="property">start</span></span><br><span class="line">      })</span><br><span class="line">      <span class="comment">// Select top N slices in content</span></span><br><span class="line">      <span class="keyword">const</span> upperBound = <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">top_n_per_article</span>, <span class="number">10</span>)</span><br><span class="line">      <span class="keyword">if</span> (upperBound &gt;= <span class="number">0</span>) {</span><br><span class="line">        slicesOfContent = slicesOfContent.<span class="title function_">slice</span>(<span class="number">0</span>, upperBound)</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">let</span> resultItem = <span class="string">''</span></span><br><span class="line">      url = <span class="keyword">new</span> <span class="title function_">URL</span>(url, location.<span class="property">origin</span>)</span><br><span class="line">      url.<span class="property">searchParams</span>.<span class="title function_">append</span>(<span class="string">'highlight'</span>, keywords.<span class="title function_">join</span>(<span class="string">' '</span>))</span><br><span class="line">      <span class="keyword">if</span> (slicesOfTitle.<span class="property">length</span> !== <span class="number">0</span>) {</span><br><span class="line">        resultItem += <span class="string">`&lt;div class="local-search-hit-item"&gt;&lt;a href="<span class="subst">${url.href}</span>"&gt;&lt;span class="search-result-title"&gt;<span class="subst">${<span class="variable language_">this</span>.highlightKeyword(title, slicesOfTitle[<span class="number">0</span>])}</span>&lt;/span&gt;`</span></span><br><span class="line">      } <span class="keyword">else</span> {</span><br><span class="line">        resultItem += <span class="string">`&lt;div class="local-search-hit-item"&gt;&lt;a href="<span class="subst">${url.href}</span>"&gt;&lt;span class="search-result-title"&gt;<span class="subst">${title}</span>&lt;/span&gt;`</span></span><br><span class="line">      }</span><br><span class="line">      slicesOfContent.<span class="title function_">forEach</span>(<span class="function"><span class="params">slice</span> =&gt;</span> {</span><br><span class="line">        resultItem += <span class="string">`&lt;p class="search-result"&gt;<span class="subst">${<span class="variable language_">this</span>.highlightKeyword(content, slice)}</span>...&lt;/p&gt;&lt;/a&gt;`</span></span><br><span class="line">      })</span><br><span class="line">      resultItem += <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">      resultItems.<span class="title function_">push</span>({</span><br><span class="line">        <span class="attr">item</span>: resultItem,</span><br><span class="line">        <span class="attr">id</span>: resultItems.<span class="property">length</span>,</span><br><span class="line">        hitCount,</span><br><span class="line">        includedCount</span><br><span class="line">      })</span><br><span class="line">    })</span><br><span class="line">    <span class="keyword">return</span> resultItems</span><br><span class="line">  }</span><br><span class="line">  <span class="title function_">fetchData</span> () {</span><br><span class="line">    <span class="keyword">const</span> isXml = !<span class="variable language_">this</span>.<span class="property">path</span>.<span class="title function_">endsWith</span>(<span class="string">'json'</span>)</span><br><span class="line">    <span class="title function_">fetch</span>(<span class="variable language_">this</span>.<span class="property">path</span>)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">text</span>())</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">        <span class="comment">// Get the contents from search data</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">isfetched</span> = <span class="literal">true</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">datas</span> = isXml</span><br><span class="line">          ? [...<span class="keyword">new</span> <span class="title class_">DOMParser</span>().<span class="title function_">parseFromString</span>(res, <span class="string">'text/xml'</span>).<span class="title function_">querySelectorAll</span>(<span class="string">'entry'</span>)].<span class="title function_">map</span>(<span class="function"><span class="params">element</span> =&gt;</span> ({</span><br><span class="line">              <span class="attr">title</span>: element.<span class="title function_">querySelector</span>(<span class="string">'title'</span>).<span class="property">textContent</span>,</span><br><span class="line">              <span class="attr">content</span>: element.<span class="title function_">querySelector</span>(<span class="string">'content'</span>).<span class="property">textContent</span>,</span><br><span class="line">              <span class="attr">url</span>: element.<span class="title function_">querySelector</span>(<span class="string">'url'</span>).<span class="property">textContent</span></span><br><span class="line">            }))</span><br><span class="line">          : <span class="title class_">JSON</span>.<span class="title function_">parse</span>(res)</span><br><span class="line">        <span class="comment">// Only match articles with non-empty titles</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">datas</span> = <span class="variable language_">this</span>.<span class="property">datas</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">data</span> =&gt;</span> data.<span class="property">title</span>).<span class="title function_">map</span>(<span class="function"><span class="params">data</span> =&gt;</span> {</span><br><span class="line">          data.<span class="property">title</span> = data.<span class="property">title</span>.<span class="title function_">trim</span>()</span><br><span class="line">          data.<span class="property">content</span> = data.<span class="property">content</span> ? data.<span class="property">content</span>.<span class="title function_">trim</span>().<span class="title function_">replace</span>(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">''</span>) : <span class="string">''</span></span><br><span class="line">          data.<span class="property">url</span> = <span class="built_in">decodeURIComponent</span>(data.<span class="property">url</span>).<span class="title function_">replace</span>(<span class="regexp">/\/{2,}/g</span>, <span class="string">'/'</span>)</span><br><span class="line">          <span class="keyword">return</span> data</span><br><span class="line">        })</span><br><span class="line">        <span class="comment">// Remove loading animation</span></span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">Event</span>(<span class="string">'search:loaded'</span>))</span><br><span class="line">      })</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// Highlight by wrapping node in mark elements with the given class name</span></span><br><span class="line">  <span class="title function_">highlightText</span> (node, slice, className) {</span><br><span class="line">    <span class="keyword">const</span> val = node.<span class="property">nodeValue</span></span><br><span class="line">    <span class="keyword">let</span> index = slice.<span class="property">start</span></span><br><span class="line">    <span class="keyword">const</span> children = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> { position, length } <span class="keyword">of</span> slice.<span class="property">hits</span>) {</span><br><span class="line">      <span class="keyword">const</span> text = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(val.<span class="title function_">substring</span>(index, position))</span><br><span class="line">      index = position + length</span><br><span class="line">      <span class="keyword">const</span> mark = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'mark'</span>)</span><br><span class="line">      mark.<span class="property">className</span> = className</span><br><span class="line">      mark.<span class="title function_">appendChild</span>(<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(val.<span class="title function_">substr</span>(position, length)))</span><br><span class="line">      children.<span class="title function_">push</span>(text, mark)</span><br><span class="line">    }</span><br><span class="line">    node.<span class="property">nodeValue</span> = val.<span class="title function_">substring</span>(index, slice.<span class="property">end</span>)</span><br><span class="line">    children.<span class="title function_">forEach</span>(<span class="function"><span class="params">element</span> =&gt;</span> {</span><br><span class="line">      node.<span class="property">parentNode</span>.<span class="title function_">insertBefore</span>(element, node)</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// Highlight the search words provided in the url in the text</span></span><br><span class="line">  <span class="title function_">highlightSearchWords</span> (body) {</span><br><span class="line">    <span class="keyword">const</span> params = <span class="keyword">new</span> <span class="title function_">URL</span>(location.<span class="property">href</span>).<span class="property">searchParams</span>.<span class="title function_">get</span>(<span class="string">'highlight'</span>)</span><br><span class="line">    <span class="keyword">const</span> keywords = params ? params.<span class="title function_">split</span>(<span class="string">' '</span>) : []</span><br><span class="line">    <span class="keyword">if</span> (!keywords.<span class="property">length</span> || !body) <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">const</span> walk = <span class="variable language_">document</span>.<span class="title function_">createTreeWalker</span>(body, <span class="title class_">NodeFilter</span>.<span class="property">SHOW_TEXT</span>, <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">const</span> allNodes = []</span><br><span class="line">    <span class="keyword">while</span> (walk.<span class="title function_">nextNode</span>()) {</span><br><span class="line">      <span class="keyword">if</span> (!walk.<span class="property">currentNode</span>.<span class="property">parentNode</span>.<span class="title function_">matches</span>(<span class="string">'button, select, textarea, .mermaid'</span>)) allNodes.<span class="title function_">push</span>(walk.<span class="property">currentNode</span>)</span><br><span class="line">    }</span><br><span class="line">    allNodes.<span class="title function_">forEach</span>(<span class="function"><span class="params">node</span> =&gt;</span> {</span><br><span class="line">      <span class="keyword">const</span> [indexOfNode] = <span class="variable language_">this</span>.<span class="title function_">getIndexByWord</span>(keywords, node.<span class="property">nodeValue</span>)</span><br><span class="line">      <span class="keyword">if</span> (!indexOfNode.<span class="property">length</span>) <span class="keyword">return</span></span><br><span class="line">      <span class="keyword">const</span> slice = <span class="variable language_">this</span>.<span class="title function_">mergeIntoSlice</span>(<span class="number">0</span>, node.<span class="property">nodeValue</span>.<span class="property">length</span>, indexOfNode)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">highlightText</span>(node, slice, <span class="string">'search-keyword'</span>)</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'load'</span>, <span class="function">() =&gt;</span> {</span><br><span class="line"><span class="comment">// Search</span></span><br><span class="line">  <span class="keyword">const</span> { path, top_n_per_article, <span class="built_in">unescape</span>, languages } = <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">localSearch</span></span><br><span class="line">  <span class="keyword">const</span> localSearch = <span class="keyword">new</span> <span class="title class_">LocalSearch</span>({</span><br><span class="line">    path,</span><br><span class="line">    top_n_per_article,</span><br><span class="line">    <span class="built_in">unescape</span></span><br><span class="line">  })</span><br><span class="line">  <span class="keyword">const</span> input = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">'#local-search-input input'</span>)</span><br><span class="line">  <span class="keyword">const</span> statsItem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'local-search-stats-wrap'</span>)</span><br><span class="line">  <span class="keyword">const</span> $loadingStatus = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'loading-status'</span>)</span><br><span class="line">  <span class="keyword">const</span> isXml = !path.<span class="title function_">endsWith</span>(<span class="string">'json'</span>)</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">inputEventFunction</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">    <span class="keyword">if</span> (!localSearch.<span class="property">isfetched</span>) <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">let</span> searchText = input.<span class="property">value</span>.<span class="title function_">trim</span>().<span class="title function_">toLowerCase</span>()</span><br><span class="line">    isXml &amp;&amp; (searchText = searchText.<span class="title function_">replace</span>(<span class="regexp">/&lt;/g</span>, <span class="string">'&amp;lt;'</span>).<span class="title function_">replace</span>(<span class="regexp">/&gt;/g</span>, <span class="string">'&amp;gt;'</span>))</span><br><span class="line">    <span class="keyword">if</span> (searchText !== <span class="string">''</span>) $loadingStatus.<span class="property">innerHTML</span> = <span class="string">'&lt;i class="fas fa-spinner fa-pulse"&gt;&lt;/i&gt;'</span></span><br><span class="line">    <span class="keyword">const</span> keywords = searchText.<span class="title function_">split</span>(<span class="regexp">/[-\s]+/</span>)</span><br><span class="line">    <span class="keyword">const</span> container = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'local-search-results'</span>)</span><br><span class="line">    <span class="keyword">let</span> resultItems = []</span><br><span class="line">    <span class="keyword">if</span> (searchText.<span class="property">length</span> &gt; <span class="number">0</span>) {</span><br><span class="line">    <span class="comment">// Perform local searching</span></span><br><span class="line">      resultItems = localSearch.<span class="title function_">getResultItems</span>(keywords)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (keywords.<span class="property">length</span> === <span class="number">1</span> &amp;&amp; keywords[<span class="number">0</span>] === <span class="string">''</span>) {</span><br><span class="line">      container.<span class="property">textContent</span> = <span class="string">''</span></span><br><span class="line">      statsItem.<span class="property">textContent</span> = <span class="string">''</span></span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (resultItems.<span class="property">length</span> === <span class="number">0</span>) {</span><br><span class="line">      container.<span class="property">textContent</span> = <span class="string">''</span></span><br><span class="line">      <span class="keyword">const</span> statsDiv = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'div'</span>)</span><br><span class="line">      statsDiv.<span class="property">className</span> = <span class="string">'search-result-stats'</span></span><br><span class="line">      statsDiv.<span class="property">textContent</span> = languages.<span class="property">hits_empty</span>.<span class="title function_">replace</span>(<span class="regexp">/\$\{query}/</span>, searchText)</span><br><span class="line">      statsItem.<span class="property">innerHTML</span> = statsDiv.<span class="property">outerHTML</span></span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      resultItems.<span class="title function_">sort</span>(<span class="function">(<span class="params">left, right</span>) =&gt;</span> {</span><br><span class="line">        <span class="keyword">if</span> (left.<span class="property">includedCount</span> !== right.<span class="property">includedCount</span>) {</span><br><span class="line">          <span class="keyword">return</span> right.<span class="property">includedCount</span> - left.<span class="property">includedCount</span></span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (left.<span class="property">hitCount</span> !== right.<span class="property">hitCount</span>) {</span><br><span class="line">          <span class="keyword">return</span> right.<span class="property">hitCount</span> - left.<span class="property">hitCount</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> right.<span class="property">id</span> - left.<span class="property">id</span></span><br><span class="line">      })</span><br><span class="line">      <span class="keyword">const</span> stats = languages.<span class="property">hits_stats</span>.<span class="title function_">replace</span>(<span class="regexp">/\$\{hits}/</span>, resultItems.<span class="property">length</span>)</span><br><span class="line">      container.<span class="property">innerHTML</span> = <span class="string">`&lt;div class="search-result-list"&gt;<span class="subst">${resultItems.map(result =&gt; result.item).join(<span class="string">''</span>)}</span>&lt;/div&gt;`</span></span><br><span class="line">      statsItem.<span class="property">innerHTML</span> = <span class="string">`&lt;hr&gt;&lt;div class="search-result-stats"&gt;<span class="subst">${stats}</span>&lt;/div&gt;`</span></span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">pjax</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">pjax</span>.<span class="title function_">refresh</span>(container)</span><br><span class="line">    }</span><br><span class="line">    $loadingStatus.<span class="property">textContent</span> = <span class="string">''</span></span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">let</span> loadFlag = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">const</span> $searchMask = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'search-mask'</span>)</span><br><span class="line">  <span class="keyword">const</span> $searchDialog = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">'#local-search .search-dialog'</span>)</span><br><span class="line">  <span class="comment">// fix safari</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">fixSafariHeight</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">innerWidth</span> &lt; <span class="number">768</span>) {</span><br><span class="line">      $searchDialog.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">'--search-height'</span>, <span class="variable language_">window</span>.<span class="property">innerHeight</span> + <span class="string">'px'</span>)</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">openSearch</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">    <span class="keyword">const</span> bodyStyle = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span></span><br><span class="line">    bodyStyle.<span class="property">width</span> = <span class="string">'100%'</span></span><br><span class="line">    bodyStyle.<span class="property">overflow</span> = <span class="string">'hidden'</span></span><br><span class="line">    btf.<span class="title function_">animateIn</span>($searchMask, <span class="string">'to_show 0.5s'</span>)</span><br><span class="line">    btf.<span class="title function_">animateIn</span>($searchDialog, <span class="string">'titleScale 0.5s'</span>)</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> { input.<span class="title function_">focus</span>() }, <span class="number">300</span>)</span><br><span class="line">    <span class="keyword">if</span> (!loadFlag) {</span><br><span class="line">      !localSearch.<span class="property">isfetched</span> &amp;&amp; localSearch.<span class="title function_">fetchData</span>()</span><br><span class="line">      input.<span class="title function_">addEventListener</span>(<span class="string">'input'</span>, inputEventFunction)</span><br><span class="line">      loadFlag = <span class="literal">true</span></span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// shortcut: ESC</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'keydown'</span>, <span class="keyword">function</span> <span class="title function_">f</span> (<span class="params">event</span>) {</span><br><span class="line">      <span class="keyword">if</span> (event.<span class="property">code</span> === <span class="string">'Escape'</span>) {</span><br><span class="line">        <span class="title function_">closeSearch</span>()</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">'keydown'</span>, f)</span><br><span class="line">      }</span><br><span class="line">    })</span><br><span class="line">    <span class="title function_">fixSafariHeight</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'resize'</span>, fixSafariHeight)</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">closeSearch</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">    <span class="keyword">const</span> bodyStyle = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span></span><br><span class="line">    bodyStyle.<span class="property">width</span> = <span class="string">''</span></span><br><span class="line">    bodyStyle.<span class="property">overflow</span> = <span class="string">''</span></span><br><span class="line">    btf.<span class="title function_">animateOut</span>($searchDialog, <span class="string">'search_close .5s'</span>)</span><br><span class="line">    btf.<span class="title function_">animateOut</span>($searchMask, <span class="string">'to_hide 0.5s'</span>)</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">'resize'</span>, fixSafariHeight)</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">searchClickFn</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">    btf.<span class="title function_">addEventListenerPjax</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">'#search-button &gt; .search'</span>), <span class="string">'click'</span>, openSearch)</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">searchFnOnce</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">'#local-search .search-close-button'</span>).<span class="title function_">addEventListener</span>(<span class="string">'click'</span>, closeSearch)</span><br><span class="line">    $searchMask.<span class="title function_">addEventListener</span>(<span class="string">'click'</span>, closeSearch)</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">localSearch</span>.<span class="property">preload</span>) {</span><br><span class="line">      localSearch.<span class="title function_">fetchData</span>()</span><br><span class="line">    }</span><br><span class="line">    localSearch.<span class="title function_">highlightSearchWords</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'article-container'</span>))</span><br><span class="line">  }</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'search:loaded'</span>, <span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> $loadDataItem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'loading-database'</span>)</span><br><span class="line">    $loadDataItem.<span class="property">nextElementSibling</span>.<span class="property">style</span>.<span class="property">display</span> = <span class="string">'block'</span></span><br><span class="line">    $loadDataItem.<span class="title function_">remove</span>()</span><br><span class="line">  })</span><br><span class="line">  <span class="title function_">searchClickFn</span>()</span><br><span class="line">  <span class="title function_">searchFnOnce</span>()</span><br><span class="line">  <span class="comment">// pjax</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'pjax:complete'</span>, <span class="function">() =&gt;</span> {</span><br><span class="line">    !btf.<span class="title function_">isHidden</span>($searchMask) &amp;&amp; <span class="title function_">closeSearch</span>()</span><br><span class="line">    localSearch.<span class="title function_">highlightSearchWords</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'article-container'</span>))</span><br><span class="line">    <span class="title function_">searchClickFn</span>()</span><br><span class="line">  })</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><h3 id="数据与前端">数据与前端</h3><h4 id="XML">XML</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/f-droid/fdroidclient/master/app/lint.xml">https://raw.githubusercontent.com/f-droid/fdroidclient/master/app/lint.xml</a></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">lint</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- TODO bump our targetSdkVersion when we are ready for it --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"ExpiredTargetSdkVersion"</span> <span class="attr">severity</span>=<span class="string">"ignore"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- TODO This should be handled as part of an overhaul of Bluetooth swap --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"MissingPermission"</span> <span class="attr">severity</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/full/java/org/fdroid/fdroid/nearby/BluetoothManager.java"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/full/java/org/fdroid/fdroid/nearby/SwapWorkflowActivity.java"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issue</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Our translations are crowd-sourced --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"MissingTranslation"</span> <span class="attr">severity</span>=<span class="string">"ignore"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"ExtraTranslation"</span> <span class="attr">severity</span>=<span class="string">"warning"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- to make CI fail on errors until this is fixed</span></span><br><span class="line"><span class="comment">         https://github.com/rtyley/spongycastle/issues/7 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"InvalidPackage"</span> <span class="attr">severity</span>=<span class="string">"warning"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"ImpliedQuantity"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"DefaultLocale"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"SimpleDateFormat"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"NewApi"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"InlinedApi"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- These are important to us, so promote from warning to error --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"UnusedResources"</span> <span class="attr">severity</span>=<span class="string">"error"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/drawable/category_**.png"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values/dimens.xml"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values/styles.xml"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/full/res/values/styles.xml"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- keep a single strings.xml for all build flavors --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values**/strings.xml"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"AppCompatMethod"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"NestedScrolling"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"Typos"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"StringFormatCount"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"UnsafeProtectedBroadcastReceiver"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"GetInstance"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"PackageManagerGetSignatures"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"HardwareIds"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"TrustAllX509TrustManager"</span> <span class="attr">severity</span>=<span class="string">"error"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- these come from included libraries --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"org/apache/commons/net/ftp/FTPSTrustManager.class"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"org/bouncycastle/est/jcajce/JcaJceUtils$1.class"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"org/bouncycastle/est/jcajce/JcaJceUtils$2.class"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"org/apache/commons/net/util/TrustManagerUtils$TrustManager.class"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"\*/bcpkix-jdk15to18-1.71.jar"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"\*/commons-net-3.6.jar"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"PluralsCandidate"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"HardcodedText"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"RtlCompat"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"RtlEnabled"</span> <span class="attr">severity</span>=<span class="string">"error"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- both the correct and deprecated locales need to be present for</span></span><br><span class="line"><span class="comment">         them to be recognized on all devices --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"LocaleFolder"</span> <span class="attr">severity</span>=<span class="string">"error"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values-he"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values-id"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issue</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Weblate doesn't handle these yet: https://github.com/WeblateOrg/weblate/issues/7520 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"MissingQuantity"</span> <span class="attr">severity</span>=<span class="string">"error"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values-cs"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values-fr"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values-lt"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/res/values-sk"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"SetWorldReadable"</span> <span class="attr">severity</span>=<span class="string">"error"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/java/org/fdroid/fdroid/installer/ApkFileProvider.java"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"ProtectedPermissions"</span> <span class="attr">severity</span>=<span class="string">"error"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/debug/AndroidManifest.xml"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/full/AndroidManifest.xml"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issue</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- these should be fixed, but it'll be a chunk of work --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issue</span> <span class="attr">id</span>=<span class="string">"SetTextI18n"</span> <span class="attr">severity</span>=<span class="string">"error"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/java/org/fdroid/fdroid/views/AppDetailsRecyclerViewAdapter.java"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ignore</span> <span class="attr">path</span>=<span class="string">"src/main/java/org/fdroid/fdroid/views/apps/AppListItemController.java"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issue</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">lint</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Stylus">Stylus</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/jerryc127/hexo-theme-butterfly/master/source/css/_layout/post.styl">https://raw.githubusercontent.com/jerryc127/hexo-theme-butterfly/master/source/css/_layout/post.styl</a></p><figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">beautify</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">headStyle</span>(fontsize)</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + <span class="number">8</span>, <span class="string">'px'</span>)</span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="built_in">unit</span>(fontsize - <span class="number">2</span>, <span class="string">'px'</span>)</span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + <span class="number">12</span>, <span class="string">'px'</span>)</span><br><span class="line">  <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-tag">h3</span>,</span><br><span class="line">  <span class="selector-tag">h4</span>,</span><br><span class="line">  <span class="selector-tag">h5</span>,</span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">7px</span>)</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$title</span>-prefix-icon-color</span><br><span class="line">      <span class="attribute">content</span>: <span class="variable">$title</span>-prefix-icon</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">      <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">  <span class="selector-tag">h1</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">20</span>)</span><br><span class="line">  <span class="selector-tag">h2</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">18</span>)</span><br><span class="line">  <span class="selector-tag">h3</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">16</span>)</span><br><span class="line">  <span class="selector-tag">h4</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">14</span>)</span><br><span class="line">  <span class="selector-tag">h5</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)</span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)</span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line">  <span class="selector-tag">li</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">      <span class="attribute">font-weight</span>: <span class="number">600</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.05em</span></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--pseudo-hover)</span><br><span class="line">  <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span></span><br><span class="line">    <span class="attribute">list-style-type</span>: circle</span><br><span class="line">  </span><br><span class="line">  hr</span><br><span class="line">    <span class="keyword">@extend</span> <span class="selector-class">.custom-hr</span></span><br><span class="line"><span class="selector-id">#article-container</span></span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">  <span class="attribute">overflow-wrap</span>: break-word</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">'text_align_justify'</span>)</span><br><span class="line">    <span class="attribute">text-align</span>: justify</span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-link-color</span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">text-decoration</span>: underline</span><br><span class="line">  <span class="selector-tag">img</span></span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">20px</span></span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span></span><br><span class="line">    <span class="attribute">transition</span>: filter <span class="number">375ms</span> ease-in .<span class="number">2s</span></span><br><span class="line">  <span class="selector-tag">p</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">16px</span></span><br><span class="line">  <span class="selector-tag">iframe</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line">  <span class="selector-tag">kbd</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">5px</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#b4b4b4</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f8f8f8</span></span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">25</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">1px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">6</span>) inset</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#34495e</span></span><br><span class="line">    <span class="attribute">white-space</span>: nowrap</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span></span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">9em</span></span><br><span class="line">    <span class="attribute">font-family</span>: Monaco, <span class="string">'Ubuntu Mono'</span>, monospace</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1em</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">'anchor.click_to_scroll'</span>)</span><br><span class="line">    <span class="selector-tag">h1</span>,</span><br><span class="line">    <span class="selector-tag">h2</span>,</span><br><span class="line">    <span class="selector-tag">h3</span>,</span><br><span class="line">    <span class="selector-tag">h4</span>,</span><br><span class="line">    <span class="selector-tag">h5</span>,</span><br><span class="line">    <span class="selector-tag">h6</span></span><br><span class="line">      <span class="attribute">width</span>: fit-content</span><br><span class="line">      <span class="selector-tag">a</span><span class="selector-pseudo">:not</span>(.headerlink)</span><br><span class="line">        <span class="attribute">position</span> relative</span><br><span class="line">        <span class="attribute">z-index</span> <span class="number">10</span></span><br><span class="line">      <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">        <span class="attribute">bottom</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    <span class="selector-tag">ul</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="number">20px</span></span><br><span class="line">    <span class="selector-tag">li</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line">  &gt; <span class="selector-pseudo">:last-child</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">  hr</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">'beautify.enable'</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">'beautify.field'</span>) == <span class="string">'site'</span></span><br><span class="line">      <span class="built_in">beautify</span>()</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">'beautify.field'</span>) == <span class="string">'post'</span></span><br><span class="line">      &amp;<span class="selector-class">.post-content</span></span><br><span class="line">        <span class="built_in">beautify</span>()</span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.tag_share</span></span><br><span class="line">    <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">      <span class="attribute">display</span>: block</span><br><span class="line">      <span class="attribute">clear</span>: both</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span></span><br><span class="line">    <span class="selector-class">.post-meta</span></span><br><span class="line">      &amp;__tag-list</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">      &amp;__tags</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">12px</span></span><br><span class="line">        <span class="attribute">width</span>: fit-content</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">12px</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--white)</span><br><span class="line">    <span class="selector-class">.post_share</span></span><br><span class="line">      <span class="attribute">display</span>: inline-block</span><br><span class="line">      <span class="attribute">float</span>: right</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span>: fit-content</span><br><span class="line">      <span class="selector-class">.social-share</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line">        <span class="selector-class">.social-share-icon</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span></span><br><span class="line">          <span class="attribute">width</span>: w = <span class="number">1.85em</span></span><br><span class="line">          <span class="attribute">height</span>: w</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">          <span class="attribute">line-height</span>: w</span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">16px</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--light-grey)</span><br><span class="line">    <span class="attribute">transition</span>: box-shadow .<span class="number">3s</span> ease-in-out</span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">2px</span></span><br><span class="line">      <span class="attribute">right</span>: <span class="number">12px</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$theme</span>-color</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">'\f1f9'</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.3em</span></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">6</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">5</span>)</span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      &amp;-meta</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line">        <span class="selector-tag">i</span></span><br><span class="line">          <span class="attribute">margin-right</span>: <span class="number">3px</span></span><br><span class="line">      &amp;-info</span><br><span class="line">        <span class="attribute">padding-left</span>: <span class="number">6px</span></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">text-decoration</span>: underline</span><br><span class="line">          <span class="attribute">word-break</span>: break-word</span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">            <span class="attribute">text-decoration</span>: none</span><br><span class="line">  <span class="selector-class">.post-outdate-notice</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1.2em</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$noticeOutdate</span>-bg</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-color</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">'noticeOutdate.style'</span>) == <span class="string">'flat'</span></span><br><span class="line">      <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">2.6em</span></span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="variable">$noticeOutdate</span>-border</span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span></span><br><span class="line">        <span class="attribute">left</span>: .<span class="number">9em</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-border</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">'\f071'</span></span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>)</span><br><span class="line">  <span class="selector-class">.ads-wrap</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span></span><br></pre></td></tr></tbody></table></figure><h4 id="HTML">HTML</h4><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://raw.githubusercontent.com/h5bp/html5-boilerplate/main/src/index.html">https://raw.githubusercontent.com/h5bp/html5-boilerplate/main/src/index.html</a></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">class</span>=<span class="string">"no-js"</span> <span class="attr">lang</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/style.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">"og:title"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">"og:type"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">"og:url"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">"og:image"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">"og:image:alt"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"/favicon.ico"</span> <span class="attr">sizes</span>=<span class="string">"any"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"/icon.svg"</span> <span class="attr">type</span>=<span class="string">"image/svg+xml"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">href</span>=<span class="string">"icon.png"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"manifest"</span> <span class="attr">href</span>=<span class="string">"site.webmanifest"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"theme-color"</span> <span class="attr">content</span>=<span class="string">"#fafafa"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Add your site or application content here --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello world! This is HTML5 Boilerplate.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/app.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h1 id="数学">数学</h1><h2 id="单行公式">单行公式</h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>=</mo><mi>G</mi><mo>=</mo><msub><mi>m</mi><mtext mathvariant="sans-serif">物</mtext></msub><mi>g</mi><mo>=</mo><mn>1</mn><mi>k</mi><mi>g</mi><mo separator="true">⋅</mo><mn>9.8</mn><mi>N</mi><mi mathvariant="normal">/</mi><mi>k</mi><mi>g</mi><mo>=</mo><mn>9.8</mn><mi>N</mi></mrow><annotation encoding="application/x-tex">F = G=m_\textsf {物} g = 1kg・9.8N / kg = 9.8N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.13889em">F</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.625em;vertical-align:-.1944em"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord textsf cjk_fallback mtight"> 物</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:.03588em">g</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mord mathnormal" style="margin-right:.03588em">g</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">9.8</span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mord mathnormal" style="margin-right:.03588em">g</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord">9.8</span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span></p><h2 id="数学文字混杂">数学文字混杂</h2><p>让我们尝试证明一个稍微复杂一些的等式：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>k</mi></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\sum_{k=0}^{n} \binom{n}{k} = 2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2em;vertical-align:-.35em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8043em"><span style="top:-2.4003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2997em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7454em"><span style="top:-2.355em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.144em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6644em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></p><p>我们可以使用二项式定理证明这个等式。二项式定理表述为：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><msup><mo stretchy="false">)</mo><mi>n</mi></msup><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>k</mi></mfrac><mo fence="true">)</mo></mrow><msup><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mi>k</mi></mrow></msup><msup><mi>b</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">(a + b)^n = \sum_{k=0}^{n} \binom{n}{k} a^{n-k} b^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-.35em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8043em"><span style="top:-2.4003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2997em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7454em"><span style="top:-2.355em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.144em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size1">)</span></span></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span></span></span></p><p>现在，令 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">a = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">b = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>，然后代入：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>n</mi></msup><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>k</mi></mfrac><mo fence="true">)</mo></mrow><msup><mn>1</mn><mrow><mi>n</mi><mo>−</mo><mi>k</mi></mrow></msup><msup><mn>1</mn><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">(1 + 1)^n = \sum_{k=0}^{n} \binom{n}{k} 1^{n-k} 1^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-.35em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8043em"><span style="top:-2.4003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2997em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7454em"><span style="top:-2.355em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.144em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size1">)</span></span></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>k</mi></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">2^n = \sum_{k=0}^{n} \binom{n}{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6644em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-.35em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8043em"><span style="top:-2.4003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2997em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7454em"><span style="top:-2.355em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.144em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size1">)</span></span></span></span></span></span></p><p>这证明了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>k</mi></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\sum_{k=0}^{n} \binom{n}{k} = 2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2em;vertical-align:-.35em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8043em"><span style="top:-2.4003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2997em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7454em"><span style="top:-2.355em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.144em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6644em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6644em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span>。</p><h1 id="渲染器拓展语法测试">渲染器拓展语法测试</h1><p>这是 <abbr title="注释内容">被注释文本</abbr></p><p>上标<sup>示例</sup></p><p>下标<sub>示例</sub></p><p>脚注示例 <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><h1 id="Butterfly-拓展语法测试">Butterfly 拓展语法测试 <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></h1><h2 id="Note">Note</h2><h3 id="simple">simple</h3><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div><h3 id="modern">modern</h3><div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div><h3 id="flat">flat</h3><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div><h3 id="disable">disable</h3><div class="note disabled"><p>默认 提示块标签</p></div><div class="note default disabled"><p>default 提示块标签</p></div><div class="note primary disabled"><p>primary 提示块标签</p></div><div class="note success disabled"><p>success 提示块标签</p></div><div class="note info disabled"><p>info 提示块标签</p></div><div class="note warning disabled"><p>warning 提示块标签</p></div><div class="note danger disabled"><p>danger 提示块标签</p></div><h2 id="Gallery-相册图库">Gallery 相册图库 <sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></h2><div class="gallery-group-main"><figure class="gallery-group"><img class="gallery-group-img no-lightbox" src="https://s2.hdslb.com/bfs/article/f152f0964fe951b4e1fc84ef2f2460156d602454.png@1e_1c.webp" alt="Group Image Gallery"><figcaption><div class="gallery-group-name">Kiki</div><p>Krita 吉祥物</p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://krita.org/zh/about-zh/kiki-zh/"></a></figcaption></figure><figure class="gallery-group"><img class="gallery-group-img no-lightbox" src="https://s2.hdslb.com/bfs/article/b1eb70eabc81cef3c5821cda30de7a817e1dfbcc.png@1e_1c.webp" alt="Group Image Gallery"><figcaption><div class="gallery-group-name">Konqi</div><p>KDE 吉祥物</p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://community.kde.org/Konqi"></a></figcaption></figure><figure class="gallery-group"><img class="gallery-group-img no-lightbox" src="https://s2.hdslb.com/bfs/article/c33c0861fa58b53ab3b8f7361bb814aad2f08b3b.jpg@1e_1c.webp" alt="Group Image Gallery"><figcaption><div class="gallery-group-name">Sachi</div><p>Squishy 吉祥物</p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.scsi.moe/mascot.html"></a></figcaption></figure><figure class="gallery-group"><img class="gallery-group-img no-lightbox" src="https://s2.hdslb.com/bfs/album/3476724342a603a7c9b0a332d79c09e1be963df9.png@1000h.webp" alt="Group Image Gallery"><figcaption><div class="gallery-group-name">An-An</div><p>AOSC 吉祥物</p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://aosc.io/"></a></figcaption></figure></div><h2 id="Gallery-相册">Gallery 相册 <sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></h2><div class="gallery-container" data-type="data" data-button="" data-limit="10" data-first="10"><div class="gallery-items">[{"url":"https://s2.hdslb.com/bfs/article/f7d418ca42cd207dc63d612cab02ea7526509b14.jpg@1e_1c.webp","alt":"","title":""},{"url":"https://s2.hdslb.com/bfs/article/44635100ad10a7b0924258c318a523cda3d620a9.jpg@1e_1c.webp","alt":"","title":""},{"url":"https://s2.hdslb.com/bfs/article/13545f598e000bcca782fdbe41c37df094d1c49a.jpg@1e_1c.webp","alt":"","title":""},{"url":"https://s2.hdslb.com/bfs/article/f187d68789be25f3d72024956c80b8a27eaafa8c.jpg@1e_1c.webp","alt":"","title":""},{"url":"https://s2.hdslb.com/bfs/article/a3f91dba6f7a5180a212de06bf2789027e1fb796.png@1e_1c.webp","alt":"","title":""},{"url":"https://s2.hdslb.com/bfs/article/10c656350a14eb8aa3fd1a861265dca77e3e2003.png@1e_1c.webp","alt":"","title":""}]</div></div><h2 id="Tag-Hide">Tag Hide</h2><p>哪个英文字母最酷？ <span class="hide-inline"><button type="button" class="hide-button" style="background-color:#ff7242;color:#fff">查看答案</button><span class="hide-content"> C，因为西装裤 (C 装酷)</span></span></p><h2 id="Mermaid">Mermaid <sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></h2><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    flowchart LR
A[Hard] --&gt;|Text| B(Round)
B --&gt; C{Decision}
C --&gt;|One| D[Result 1]
C --&gt;|Two| E[Result 2]
  </pre></div><h3 id="流程图">流程图</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    flowchart LR
A[Hard] --&gt;|Text| B(Round)
B --&gt; C{Decision}
C --&gt;|One| D[Result 1]
C --&gt;|Two| E[Result 2]
  </pre></div><h3 id="时序图">时序图</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    sequenceDiagram
Alice-&gt;&gt;John: Hello John, how are you?
loop HealthCheck
    John-&gt;&gt;John: Fight against hypochondria
end
Note right of John: Rational thoughts!
John--&gt;&gt;Alice: Great!
John-&gt;&gt;Bob: How about you?
Bob--&gt;&gt;John: Jolly good!
  </pre></div><h3 id="甘特图">甘特图</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    gantt
    section Section
    Completed :done,    des1, 2014-01-06,2014-01-08
    Active        :active,  des2, 2014-01-07, 3d
    Parallel 1   :         des3, after des1, 1d
    Parallel 2   :         des4, after des1, 1d
    Parallel 3   :         des5, after des3, 1d
    Parallel 4   :         des6, after des4, 1d
  </pre></div><h3 id="类图">类图</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram
Class01 &lt;|-- AveryLongClass : Cool
&lt;&lt;Interface&gt;&gt; Class01
Class09 --&gt; C2 : Where am I?
Class09 --* C3
Class09 --|&gt; Class07
Class07 : equals()
Class07 : Object[] elementData
Class01 : size()
Class01 : int chimp
Class01 : int gorilla
class Class10 {
  &lt;&lt;service&gt;&gt;
  int id
  size()
}
  </pre></div><h3 id="状态图">状态图</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    stateDiagram-v2
[*] --&gt; Still
Still --&gt; [*]
Still --&gt; Moving
Moving --&gt; Still
Moving --&gt; Crash
Crash --&gt; [*]
  </pre></div><h3 id="饼图">饼图</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    pie
"Dogs" : 386
"Cats" : 85
"Rats" : 15
  </pre></div><h3 id="用户体验旅程图">用户体验旅程图</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    journey
  title My working day
  section Go to work
    Make tea: 5: Me
    Go upstairs: 3: Me
    Do work: 1: Me, Cat
  section Go home
    Go downstairs: 5: Me
    Sit down: 3: Me
  </pre></div><h3 id="C4-图">C4 图</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    C4Context
title System Context diagram for Internet Banking System

Person(customerA, "Banking Customer A", "A customer of the bank, with personal bank accounts.")
Person(customerB, "Banking Customer B")
Person_Ext(customerC, "Banking Customer C")
System(SystemAA, "Internet Banking System", "Allows customers to view information about their bank accounts, and make payments.")

Person(customerD, "Banking Customer D", "A customer of the bank, &lt;br/&gt; with personal bank accounts.")

Enterprise_Boundary(b1, "BankBoundary") {

  SystemDb_Ext(SystemE, "Mainframe Banking System", "Stores all of the core banking information about customers, accounts, transactions, etc.")

  System_Boundary(b2, "BankBoundary2") {
    System(SystemA, "Banking System A")
    System(SystemB, "Banking System B", "A system of the bank, with personal bank accounts.")
  }

  System_Ext(SystemC, "E-mail system", "The internal Microsoft Exchange e-mail system.")
  SystemDb(SystemD, "Banking System D Database", "A system of the bank, with personal bank accounts.")

  Boundary(b3, "BankBoundary3", "boundary") {
    SystemQueue(SystemF, "Banking System F Queue", "A system of the bank, with personal bank accounts.")
    SystemQueue_Ext(SystemG, "Banking System G Queue", "A system of the bank, with personal bank accounts.")
  }
}

BiRel(customerA, SystemAA, "Uses")
BiRel(SystemAA, SystemE, "Uses")
Rel(SystemAA, SystemC, "Sends e-mails", "SMTP")
Rel(SystemC, customerA, "Sends e-mails to")
  </pre></div><h2 id="Tabs">Tabs</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">test1 1</button><button type="button" class="tab">test1 2</button><button type="button" class="tab">test1 3</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>This is Tab 1.</strong></p></div><div class="tab-item-content"><p><strong>This is Tab 2.</strong></p></div><div class="tab-item-content"><p><strong>This is Tab 3.</strong></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="Button">Button</h2><a class="btn-beautify larger" target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/" title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a> <a class="btn-beautify blue larger" target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/" title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a> <a class="btn-beautify pink larger" target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/" title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a> <a class="btn-beautify red larger" target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/" title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a> <a class="btn-beautify purple larger" target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/" title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a> <a class="btn-beautify orange larger" target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/" title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a> <a class="btn-beautify green larger" target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/" title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><h2 id="label">label</h2><p>臣亮言：<mark class="hl-label default">先帝</mark>创业未半，而<mark class="hl-label blue">中道崩殂</mark>。今天下三分，<mark class="hl-label pink">益州疲敝</mark>，此诚<mark class="hl-label red">危急存亡之秋</mark>也！然侍衞之臣，不懈于内；<mark class="hl-label purple">忠志之士</mark>，忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气；不宜妄自菲薄，引喻失义，以塞忠谏之路也。</p><p>宫中、府中，俱为一体；陟罚臧否，不宜异同。若有<mark class="hl-label orange">作奸</mark>、<mark class="hl-label green">犯科</mark>，及为忠善者，宜付有司，论其刑赏，以昭陛下平明之治；不宜偏私，使内外异法也。</p><h2 id="Timeline">Timeline</h2><div class="timeline"><div class="timeline-item headline"><div class="timeline-item-title"><div class="item-circle"><p>2022</p></div></div></div><div class="timeline-item"><div class="timeline-item-title"><div class="item-circle"><p>01-02</p></div></div><div class="timeline-item-content"><p>这是测试页面</p></div></div></div><h2 id="Chart-js">Chart.js</h2><div class="chartjs-container" data-chartjs-id="" data-width="70%"><pre class="chartjs-src" hidden>{
    "type": "line",
    "data": {
        "labels": ["January", "February", "March", "April", "May", "June", "July"],
        "datasets": [{
            "label": "My First dataset",
            "backgroundColor": "rgb(255, 99, 132)",
            "borderColor": "rgb(255, 99, 132)",
            "data": [0, 10, 5, 2, 20, 30, 45]
        }]
    },
    "options": {
        "responsive": true,
        "title": {
            "display": true,
            "text": "Chart.js Line Chart"
        }
    }
}
</pre></div><div class="chartjs-container" data-chartjs-id=""><pre class="chartjs-src" hidden>{
  "type": "radar",
  "data": {
    "labels": [
      "Eating",
      "Drinking",
      "Sleeping",
      "Designing",
      "Coding",
      "Cycling",
      "Running"
    ],
    "datasets": [
      {
        "label": "My First Dataset",
        "data": [65, 59, 90, 81, 56, 55, 40],
        "fill": true,
        "backgroundColor": "rgba(255, 99, 132, 0.2)",
        "borderColor": "rgb(255, 99, 132)",
        "pointBackgroundColor": "rgb(255, 99, 132)",
        "pointBorderColor": "#fff",
        "pointHoverBackgroundColor": "#fff",
        "pointHoverBorderColor": "rgb(255, 99, 132)"
      },
      {
        "label": "My Second Dataset",
        "data": [28, 48, 40, 19, 96, 27, 100],
        "fill": true,
        "backgroundColor": "rgba(54, 162, 235, 0.2)",
        "borderColor": "rgb(54, 162, 235)",
        "pointBackgroundColor": "rgb(54, 162, 235)",
        "pointBorderColor": "#fff",
        "pointHoverBackgroundColor": "#fff",
        "pointHoverBorderColor": "rgb(54, 162, 235)"
      }
    ]
  },
  "options": {
    "elements": {
      "line": {
        "borderWidth": 3
      }
    }
  }
}
</pre></div><div class="chartjs-container chartjs-abreast" data-chartjs-id="" data-width="40%"><pre class="chartjs-src" hidden>{
    "type": "pie",
    "data": {
        "labels": [
            "编程",
            "音乐",
            "阅读",
            "游戏",
            "健身",
            "旅游"
        ],
        "datasets": [
            {
                "label": "喜爱指数",
                "data": [
                    30,
                    24,
                    19,
                    14,
                    9,
                    4
                ],
                "backgroundColor": {
                    "dark-mode": [
                        "rgba(255, 99, 132, 0.5)",
                        "rgba(54, 162, 235, 0.5)",
                        "rgba(255, 206, 86, 0.5)",
                        "rgba(75, 192, 192, 0.5)",
                        "rgba(153, 102, 255, 0.5)",
                        "rgba(255, 159, 64, 0.5)"
                    ],
                    "light-mode": [
                        "rgba(255, 99, 132, 0.2)",
                        "rgba(54, 162, 235, 0.2)",
                        "rgba(255, 206, 86, 0.2)",
                        "rgba(75, 192, 192, 0.2)",
                        "rgba(153, 102, 255, 0.2)",
                        "rgba(255, 159, 64, 0.2)"
                    ]
                },
                "borderColor": {
                    "dark-mode": [
                        "rgba(255, 99, 132, 1)",
                        "rgba(54, 162, 235, 1)",
                        "rgba(255, 206, 86, 1)",
                        "rgba(75, 192, 192, 1)",
                        "rgba(153, 102, 255, 1)",
                        "rgba(255, 159, 64, 1)"
                    ],
                    "light-mode": [
                        "rgba(255, 99, 132, 1)",
                        "rgba(54, 162, 235, 1)",
                        "rgba(255, 206, 86, 1)",
                        "rgba(75, 192, 192, 1)",
                        "rgba(153, 102, 255, 1)",
                        "rgba(255, 159, 64, 1)"
                    ]
                }
            }
        ]
    },
    "options": {
        "plugins": {
            "legend": {
                "labels": {
                    "color": {
                        "dark-mode": "rgba(255, 255, 255, 0.8)",
                        "light-mode": "rgba(0, 0, 0, 0.8)"
                    }
                }
            }
        }
    }
}
</pre><div class="chartjs-desc"><p>除了<strong>计算机编程</strong>外，我想不出还有其他让我感兴趣的工作。 我可以无中生有地创造出<strong>精美的范式</strong>和<strong>结构</strong>， 在此过程中也解决了无数的小谜团。 <span style="font-size:.8em;color:var(--sep-secondtext)">I can't think of any other job other than <strong>computer programming</strong> that interests me. I can create <strong>beautiful paradigms</strong> and <strong>structures</strong> out of nothing, Countless small mysteries are also solved in the process.</span></p></div></div><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>脚注是指附在文章页面的最底端的，对某些东西加以说明的注文。 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>代码来自<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/4aa8abbe/#Note-Bootstrap-Callout">Butterfly 安裝文檔 (三) 主題配置 - 1 | Butterfly</a>，采用 CC - BY - NC - SA 协议授权 <a href="#fnref2" class="footnote-backref">↩︎</a></p></li><li id="fn3" class="footnote-item"><p>画作由 TysonTan 绘制，采用 CC - BY - SA 协议授权 <a href="#fnref3" class="footnote-backref">↩︎</a></p></li><li id="fn4" class="footnote-item"><p>图片来自 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly ReadMe</a>，采用 CC - BY - NC - SA 协议授权 <a href="#fnref4" class="footnote-backref">↩︎</a></p></li><li id="fn5" class="footnote-item"><p>代码来自 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/mermaid-js/mermaid/blob/develop/README.zh-CN.md">Mermaid ReadMe</a> <a href="#fnref5" class="footnote-backref">↩︎</a></p></li></ol></section></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.lynx3.me">LynxCatTheThird</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.lynx3.me/article/a36a68fc/">https://www.lynx3.me/article/a36a68fc/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://www.lynx3.me" target="_blank">猫说 Meow</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></div><div class="post-share"><div class="social-share" data-image="https://s2.hdslb.com/bfs/article/e4bb9f697983d94cd838ee6fda074c23b489052e.png@1e_1c.webp" data-sites="wechat,weibo,qq,qzone,facebook,twitter"></div><link rel="stylesheet" href="https://registry.npmmirror.com/butterfly-extsrc/1.1.4/files/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://registry.npmmirror.com/butterfly-extsrc/1.1.4/files/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/article/53963325/" title="加密测试"><img class="cover" src="https://s2.hdslb.com/bfs/article/e4bb9f697983d94cd838ee6fda074c23b489052e.png@1e_1c.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">加密测试</div></div><div class="info-2"><div class="info-item-1">包括 Markdown、数学以及标签外挂。<br>密码为 114514。</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/article/53963325/" title="加密测试"><img class="cover" src="https://s2.hdslb.com/bfs/article/e4bb9f697983d94cd838ee6fda074c23b489052e.png@1e_1c.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-03</div><div class="info-item-2">加密测试</div></div><div class="info-2"><div class="info-item-1">包括 Markdown、数学以及标签外挂。<br>密码为 114514。</div></div></div></a><a class="pagination-related" href="/article/a63f345a/" title="网站速度优化指北"><img class="cover" src="https://s2.hdslb.com/bfs/article/7637c5a0da6c6beeeed6d7ca2509de66d16762b8.jpg@1e_1c.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-17</div><div class="info-item-2">网站速度优化指北</div></div><div class="info-2"><div class="info-item-1">慢死了啊啊啊啊啊啊！</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Waline</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://s2.hdslb.com/bfs/article/621ceaa1fcd3b63bfb3d7d3948bd93647ac50b72.png@1e_0c.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">LynxCatTheThird</div><div class="author-info-description">我是山猫三号，一个来自一百零三世纪的强人工智能。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/LynxCatTheThird"><i class="fab fa-github"></i><span>Follow Me!</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/LynxCatTheThird/" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="https://twitter.com/LynxCatTheThird/" rel="external nofollow noreferrer" target="_blank" title="Twitter"><i class="fab fa-twitter" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">XvX, 为什么我还是这么菜</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Markdown-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">Markdown 基本语法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E6%A0%87%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">一级标题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E6%A0%87%E9%A2%98"><span class="toc-number">2.1.</span> <span class="toc-text">二级标题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%BA%A7%E6%A0%87%E9%A2%98"><span class="toc-number">2.1.1.</span> <span class="toc-text">三级标题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E7%BA%A7%E6%A0%87%E9%A2%98"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">四级标题</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%94%E7%BA%A7%E6%A0%87%E9%A2%98"><span class="toc-number">2.1.1.1.1.</span> <span class="toc-text">五级标题</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%AD%E7%BA%A7%E6%A0%87%E9%A2%98"><span class="toc-number">2.1.1.1.1.1.</span> <span class="toc-text">六级标题</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Markdown-%E6%89%A9%E5%B1%95%E8%AF%AD%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">Markdown 扩展语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E6%A0%BC"><span class="toc-number">3.1.</span> <span class="toc-text">表格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A1%86"><span class="toc-number">3.2.</span> <span class="toc-text">代码框</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E8%AF%AD%E8%A8%80"><span class="toc-number">3.2.1.</span> <span class="toc-text">编译语言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#C"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">C++</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Java"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">Java</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Kotlin"><span class="toc-number">3.2.1.3.</span> <span class="toc-text">Kotlin</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%87%8A%E8%AF%AD%E8%A8%80"><span class="toc-number">3.2.2.</span> <span class="toc-text">解释语言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Python"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">Python</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Shell"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">Shell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JavaScript"><span class="toc-number">3.2.2.3.</span> <span class="toc-text">JavaScript</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%8E%E5%89%8D%E7%AB%AF"><span class="toc-number">3.2.3.</span> <span class="toc-text">数据与前端</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#XML"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">XML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stylus"><span class="toc-number">3.2.3.2.</span> <span class="toc-text">Stylus</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTML"><span class="toc-number">3.2.3.3.</span> <span class="toc-text">HTML</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6"><span class="toc-number">4.</span> <span class="toc-text">数学</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E5%85%AC%E5%BC%8F"><span class="toc-number">4.1.</span> <span class="toc-text">单行公式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E6%96%87%E5%AD%97%E6%B7%B7%E6%9D%82"><span class="toc-number">4.2.</span> <span class="toc-text">数学文字混杂</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E5%99%A8%E6%8B%93%E5%B1%95%E8%AF%AD%E6%B3%95%E6%B5%8B%E8%AF%95"><span class="toc-number">5.</span> <span class="toc-text">渲染器拓展语法测试</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Butterfly-%E6%8B%93%E5%B1%95%E8%AF%AD%E6%B3%95%E6%B5%8B%E8%AF%95"><span class="toc-number">6.</span> <span class="toc-text">Butterfly 拓展语法测试 [2]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Note"><span class="toc-number">6.1.</span> <span class="toc-text">Note</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#simple"><span class="toc-number">6.1.1.</span> <span class="toc-text">simple</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#modern"><span class="toc-number">6.1.2.</span> <span class="toc-text">modern</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#flat"><span class="toc-number">6.1.3.</span> <span class="toc-text">flat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#disable"><span class="toc-number">6.1.4.</span> <span class="toc-text">disable</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gallery-%E7%9B%B8%E5%86%8C%E5%9B%BE%E5%BA%93"><span class="toc-number">6.2.</span> <span class="toc-text">Gallery 相册图库 [3]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gallery-%E7%9B%B8%E5%86%8C"><span class="toc-number">6.3.</span> <span class="toc-text">Gallery 相册 [4]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tag-Hide"><span class="toc-number">6.4.</span> <span class="toc-text">Tag Hide</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mermaid"><span class="toc-number">6.5.</span> <span class="toc-text">Mermaid [5]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">6.5.1.</span> <span class="toc-text">流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E5%9B%BE"><span class="toc-number">6.5.2.</span> <span class="toc-text">时序图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%98%E7%89%B9%E5%9B%BE"><span class="toc-number">6.5.3.</span> <span class="toc-text">甘特图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9B%BE"><span class="toc-number">6.5.4.</span> <span class="toc-text">类图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E5%9B%BE"><span class="toc-number">6.5.5.</span> <span class="toc-text">状态图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A5%BC%E5%9B%BE"><span class="toc-number">6.5.6.</span> <span class="toc-text">饼图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E6%97%85%E7%A8%8B%E5%9B%BE"><span class="toc-number">6.5.7.</span> <span class="toc-text">用户体验旅程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C4-%E5%9B%BE"><span class="toc-number">6.5.8.</span> <span class="toc-text">C4 图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tabs"><span class="toc-number">6.6.</span> <span class="toc-text">Tabs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Button"><span class="toc-number">6.7.</span> <span class="toc-text">Button</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#label"><span class="toc-number">6.8.</span> <span class="toc-text">label</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Timeline"><span class="toc-number">6.9.</span> <span class="toc-text">Timeline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Chart-js"><span class="toc-number">6.10.</span> <span class="toc-text">Chart.js</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/article/d68048af/" title="四个重要的不等式"><img src="https://s2.hdslb.com/bfs/article/20298b4638bb665ee859b7702011974d1352440272.png@1e_1c.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="四个重要的不等式"></a><div class="content"><a class="title" href="/article/d68048af/" title="四个重要的不等式">四个重要的不等式</a><time datetime="2024-08-23T05:18:35.000Z" title="发表于 2024-08-23 13:18:35">2024-08-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/article/b5186965/" title="To Make Linux Better!"><img src="https://s2.hdslb.com/bfs/article/60bd9ceb33e924c1ac72dd757c2fb8201352440272.png@1e_1c.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="To Make Linux Better!"></a><div class="content"><a class="title" href="/article/b5186965/" title="To Make Linux Better!">To Make Linux Better!</a><time datetime="2024-07-24T09:32:40.000Z" title="发表于 2024-07-24 17:32:40">2024-07-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/article/4097fa9/" title="旧手机优化计划之三 - 流畅、保活与省电"><img src="https://s2.hdslb.com/bfs/article/933c394a912fe5229247ae17ad006be11352440272.png@1e_1c.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="旧手机优化计划之三 - 流畅、保活与省电"></a><div class="content"><a class="title" href="/article/4097fa9/" title="旧手机优化计划之三 - 流畅、保活与省电">旧手机优化计划之三 - 流畅、保活与省电</a><time datetime="2024-07-11T15:00:00.000Z" title="发表于 2024-07-11 23:00:00">2024-07-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/article/2a7bbe49/" title="旧手机优化计划之二 - Root"><img src="https://s2.hdslb.com/bfs/article/933c394a912fe5229247ae17ad006be11352440272.png@1e_1c.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="旧手机优化计划之二 - Root"></a><div class="content"><a class="title" href="/article/2a7bbe49/" title="旧手机优化计划之二 - Root">旧手机优化计划之二 - Root</a><time datetime="2024-07-11T05:18:32.000Z" title="发表于 2024-07-11 13:18:32">2024-07-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/article/d654e311/" title="旧手机优化计划之一 - 刷机"><img src="https://s2.hdslb.com/bfs/article/933c394a912fe5229247ae17ad006be11352440272.png@1e_1c.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="旧手机优化计划之一 - 刷机"></a><div class="content"><a class="title" href="/article/d654e311/" title="旧手机优化计划之一 - 刷机">旧手机优化计划之一 - 刷机</a><time datetime="2024-05-02T11:18:32.000Z" title="发表于 2024-05-02 19:18:32">2024-05-02</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2020 - 2025 By LynxCatTheThird</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0-b1</a></span></div><div class="footer_custom_text"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://icp.gov.moe/?keyword=20231970">萌 ICP 备 20231970 号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://registry.npmmirror.com/@fancyapps/ui/6.0.17/files/dist/fancybox/fancybox.umd.js"></script><script src="https://s4.zstatic.net/ajax/libs/instant.page/5.2.0/instantpage.min.js" type="module"></script><div class="js-pjax"><script>(async()=>{window.katex_js_css||(window.katex_js_css=!0,await btf.getCSS("https://registry.npmmirror.com/katex/0.16.22/files/dist/katex.min.css"),await btf.getScript("https://registry.npmmirror.com/katex/0.16.22/files/dist/contrib/copy-tex.min.js")),document.querySelectorAll("#article-container .katex").forEach(t=>t.classList.add("katex-show"))})()</script><script>(()=>{const e=()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0===e.length)return;const t=()=>(e=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";e.forEach((e,n)=>{const d=e.firstElementChild,r=`mermaid-${n}`,a=`%%{init:{ 'theme':'${t}'}}%%\n`+d.textContent,i=mermaid.render(r,a),m=e=>{d.insertAdjacentHTML("afterend",e)};"string"==typeof i?m(i):i.then(({svg:e})=>m(e))})})(e);btf.addGlobalFn("themeChange",t,"mermaid"),window.loadMermaid?t():btf.getScript("https://registry.npmmirror.com/mermaid/11.9.0/files/dist/mermaid.min.js").then(t)};btf.addGlobalFn("encrypt",e,"mermaid"),window.pjax?e():document.addEventListener("DOMContentLoaded",e)})()</script><script>(()=>{const t=(e,a)=>{"object"==typeof e&&null!==e&&Object.keys(e).forEach(r=>{const o=e[r];"object"==typeof o&&null!==o&&(o[a]?e[r]=o[a]:t(o,a))})},e=e=>{window.loadChartJS=!0,Array.from(e).forEach((e,a)=>{const r=e.firstElementChild,o=e.getAttribute("data-chartjs-id")||"chartjs-"+a,d=e.getAttribute("data-width"),n=document.getElementById(o);n&&n.parentNode.remove();const c=r.textContent,l=document.createElement("canvas");l.id=o;const s=document.createElement("div");s.className="chartjs-wrap",d&&(s.style.width=d),s.appendChild(l),r.insertAdjacentElement("afterend",s);const h=document.getElementById(o).getContext("2d"),i=JSON.parse(c),m="dark"===document.documentElement.getAttribute("data-theme")?"dark-mode":"light-mode";(t=>{"dark-mode"===t?(Chart.defaults.color="rgba(255, 255, 255, 0.8)",Chart.defaults.borderColor="rgba(255, 255, 255, 0.2)",Chart.defaults.scale.ticks.backdropColor="transparent"):(Chart.defaults.color="rgba(0, 0, 0, 0.8)",Chart.defaults.borderColor="rgba(0, 0, 0, 0.1)",Chart.defaults.scale.ticks.backdropColor="transparent")})(m),t(i,m),new Chart(h,i)})},a=()=>{const t=document.querySelectorAll("#article-container .chartjs-container");0!==t.length&&(window.loadChartJS?e(t):btf.getScript("https://registry.npmmirror.com/chart.js/4.5.0/files/dist/chart.umd.js").then(()=>e(t)))};btf.addGlobalFn("themeChange",a,"chartjs"),btf.addGlobalFn("encrypt",a,"chartjs"),window.pjax?a():document.addEventListener("DOMContentLoaded",a)})()</script><script>(()=>{const o="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t=null,e=(e=document,n=location.pathname)=>{twikoo.init({el:e.querySelector("#twikoo-wrap"),envId:"https://vc.tk.api.lynx3.me/",region:"",onCommentLoaded:()=>{btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))},...t,path:n}),o&&(window.shuoshuoComment.destroyTwikoo=()=>{e.children.length&&(e.innerHTML="",e.classList.add("no-comment"))})},n=(o,t)=>{"object"==typeof twikoo?setTimeout(()=>e(o,t),0):btf.getScript("https://registry.npmmirror.com/twikoo/1.6.44/files/dist/twikoo.all.min.js").then(()=>e(o,t))};o?window.shuoshuoComment={loadComment:n}:n()})()</script><script>(()=>{let e=window.walineFn||null;const n="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t=null,i=(e,i=document,o=window.location.pathname)=>{const l=e({el:i.querySelector("#waline-wrap"),serverURL:"https://vc.wl.api.lynx3.me/",pageview:!1,dark:'html[data-theme="dark"]',comment:!1,...t,path:o});n&&(window.shuoshuoComment.destroyWaline=()=>{l.destroy(),i.children.length&&(i.innerHTML="",i.classList.add("no-comment"))})},o=(n,t)=>{e?i(e,n,t):btf.getCSS("https://registry.npmmirror.com/@waline/client/3.6.0/files/dist/waline.css").then(()=>import("https://registry.npmmirror.com/@waline/client/3.6.0/files/dist/waline.js")).then(({init:o})=>{e=o||Waline.init,i(e,n,t),window.walineFn=e})};n?window.loadOtherComment=o:setTimeout(o,0)})()</script></div><script src="https://s4.zstatic.net/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script>(()=>{window.pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"],cacheBust:!1,analytics:!1,scrollRestoration:!1});const e=e=>{e&&Object.values(e).forEach(e=>e())};document.addEventListener("pjax:send",()=>{btf.removeGlobalFnEvent("pjaxSendOnce"),btf.removeGlobalFnEvent("themeChange");const t=document.body.classList;t.contains("read-mode")&&t.remove("read-mode"),e(window.globalFn.pjaxSend)}),document.addEventListener("pjax:complete",()=>{btf.removeGlobalFnEvent("pjaxCompleteOnce"),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),n=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(n)),e.parentNode.replaceChild(t,e)}),e(window.globalFn.pjaxComplete)}),document.addEventListener("pjax:error",e=>{if(404===e.request.status){!0?pjax.loadUrl("/404.html"):window.location.href="/404.html"}})})()</script><script async data-pjax src="https://cn.vercount.one/js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>